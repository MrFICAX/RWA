/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t){return"function"==typeof t}var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function u(t){return null!==t&&"object"==typeof t}var a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,i=r._parentOrParents,o=r._ctorUnsubscribe,s=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var d=0;d<i.length;++d)i[d].remove(this);if(n(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof a?h(t.errors):[t]}}if(c(l)){d=-1;for(var p=l.length;++d<p;){var f=l[d];if(u(f))try{f.unsubscribe()}catch(t){e=e||[],t instanceof a?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}var d=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),p=function(t){function n(e,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new f(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new f(o,e,r,i)}return o}return e(n,t),n.prototype[d]=function(){return this},n.create=function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(l),f=function(t){function r(e,r,i,o){var c,u=t.call(this)||this;u._parentSubscriber=e;var a=u;return n(r)?c=r:r&&(c=r.next,i=r.error,o=r.complete,r!==s&&(n((a=Object.create(r)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=c,u._error=i,u._complete=o,u}return e(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=i.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;o(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(o(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(p),b=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function y(t){return t}function v(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var m=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(s)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof p?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=g(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:v(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=g(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function g(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function w(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new _(t,e))}}var _=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.project,this.thisArg))},t}(),E=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return e(n,t),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(p);function S(t,e,r,i){return n(r)&&(i=r,r=void 0),i?S(t,e,r).pipe(w((function(t){return c(t)?i.apply(void 0,t):i(t)}))):new m((function(n){x(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function x(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var c=t;t.on(e,n),o=function(){return c.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var a=0,l=t.length;a<l;a++)x(t[a],e,n,r,i)}r.add(o)}var T=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},n}(function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(l)),C=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),L=new(function(t){function n(e,r){void 0===r&&(r=C.now);var i=t.call(this,e,(function(){return n.delegate&&n.delegate!==i?n.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e(n,t),n.prototype.schedule=function(e,r,i){return void 0===r&&(r=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,r,i):t.prototype.schedule.call(this,e,r,i)},n.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(C))(T);function k(t,e){return void 0===e&&(e=L),function(n){return n.lift(new N(t,e))}}var N=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.dueTime,this.scheduler))},t}(),D=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return e(n,t),n.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(A,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},n.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},n}(p);function A(t){t.debouncedNext()}function I(t,e){return function(n){return n.lift(new j(t,e))}}var j=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.predicate,this.thisArg))},t}(),O=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return e(n,t),n.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},n}(p);function H(t){return t&&"function"==typeof t.schedule}var P=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function B(t,e){return new m((function(n){var r=new l,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function V(t,e){return e?B(t,e):new m(P(t))}function M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return H(n)?(t.pop(),B(t,n)):V(t)}function U(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var z=U(),W=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var $=function(t){if(t&&"function"==typeof t[b])return r=t,function(t){var e=r[b]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(W(t))return P(t);if(R(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o),t};if(t&&"function"==typeof t[z])return e=t,function(t){for(var n=e[z]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=u(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},F=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n}return e(n,t),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(p),Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(p);function J(t,e){if(!e.closed)return t instanceof m?t.subscribe(e):$(t)(e)}var K=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.resultSelector))},t}(),Z=function(t){function n(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return e(n,t),n.prototype._next=function(t){var e=this.iterators;c(t)?e.push(new G(t)):"function"==typeof t[z]?e.push(new q(t[z]())):e.push(new X(this.destination,this,t))},n.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<e;r++){var s,c=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),c.done)return void n.complete();o.push(c.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},n.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(p),q=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),G=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[z]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),X=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return e(n,t),n.prototype[z]=function(){return this},n.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},n.prototype.hasValue=function(){return this.buffer.length>0},n.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},n.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},n.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},n.prototype.subscribe=function(){return J(this.observable,new F(this))},n}(Y);function Q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[b]}(t))return function(t,e){return new m((function(n){var r=new l;return r.add(e.schedule((function(){var i=t[b]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(R(t))return function(t,e){return new m((function(n){var r=new l;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(W(t))return B(t,e);if(function(t){return t&&"function"==typeof t[z]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m((function(n){var r,i=new l;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[z](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof m?t:new m($(t))}function tt(t,e){return"function"==typeof e?function(n){return n.pipe(tt((function(n,r){return Q(t(n,r)).pipe(w((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new et(t))}}var et=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.project))},t}(),nt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return e(n,t),n.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)},n.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new F(this),r=this.destination;r.add(n),this.innerSubscription=J(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},n.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},n.prototype.notifyNext=function(t){this.destination.next(t)},n}(Y);const rt="http://localhost:3000";var it,ot=0;class st{constructor(t,e){this._imageList=[],this.container=e,this._imageList=new Array,this.SetAndStartUser(t)}set user(t){this._user=t}get user(){return this._user}set container(t){this._container=t}get container(){return this._container}set imageList(t){this._imageList=t}get imageList(){return this._imageList}draw(){this.createCarNameBox()}SetAndStartUser(t){this.user=t,this.obs$=M(this.user)}zipInputs(){console.log("ZIPOVANJE OBSERVABLE OBJEKATA"),void 0!==this.obs$&&void 0!==this.obs2$&&(console.log("ZIP VALIDACIJA ISPRAVNA"),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),V(t,void 0).lift(new K(n))}(this.obs$,this.obs2$).subscribe((t=>{console.log(t),this.inputReservation(t)})))}inputReservation(t){let e=t[0],n=t[1];const r=document.body.getElementsByClassName("prikazRezervacija")[0];if(void 0===r)return;const i=this.createDiv(r);var o;this.WriteLabel("Korisnik:",i),this.WriteLabel(e.name,i),this.WriteLabel("Adresa:",i),this.WriteLabel(e.address,i),this.WriteLabel("Licna karta:",i),this.WriteLabel(e.idcard.toString(),i),this.WriteLabel("Vozac:",i),this.WriteLabel(n.name,i),this.WriteLabel("Automobil:",i),this.WriteLabel(n.car,i),this.WriteLabel("Prosecna ocena:",i),this.WriteLabel(n.avgMark.toString(),i);let s=Math.round(100*Math.random()%20+10),c=Math.round(100*Math.random()%s),u=0;var a,l,h;console.log("RangeLevel:"+s),console.log("randomNumber"+c),(a=10,l=s,void 0===a&&(a=0),new m((function(t){void 0===l&&(l=a,a=0);var e=0,n=a;for(h;;){if(e++>=l){t.complete();break}if(t.next(n++),t.closed)break}}))).pipe(w((t=>t*t))).subscribe((t=>{console.log("counter"+u),u++===c&&(console.log(t),o=t,console.log("Povratna vrd. je:"+o),this.WriteLabel("Cena:",i),this.WriteLabel((n.priceCoefficient*o).toString(),i))}))}createDiv(t){const e=document.createElement("div");return e.className="reservation",t.appendChild(e),e}WriteLabel(t,e){const n=document.createElement("label");n.innerHTML=t,n.style.margin="10px",e.appendChild(n)}createCarNameBox(){const t=document.createElement("div");t.className="TaxiLogic",this.container.appendChild(t);const e=document.createElement("label");e.innerHTML="Izaberite marku automobila koji zelite:",e.style.margin="10px",t.appendChild(e),this.createComboBox(t)}createComboBox(t){var e,n=document.createElement("select");n.className="selekcija",t.appendChild(n),Q(fetch(`${rt}/cars`).then((t=>{if(t.ok)return console.log(t),t.json();throw new Error("DB not found")})).catch((t=>console.log("Error"+t)))).subscribe((t=>{console.log(t),(e=document.createElement("option")).innerHTML="",e.classList.add("opcija"),e.value="",n.appendChild(e),t.forEach((t=>{(e=document.createElement("option")).innerHTML=t,e.classList.add("opcija"),e.value=t,n.appendChild(e)}))})),S(n,"click").pipe(w((t=>t.target.value)),I((t=>""!==t)),tt((t=>this.getDriversByCar(t)))).subscribe((e=>{this.drivers=e,this.WriteDrivers(),this.createImage(t)}))}createImage(t){var e=this.container.getElementsByClassName("image")[0];void 0!==e&&e.remove();const n=document.createElement("img");ot%=4,n.src="../"+this.imageList[ot],n.className="image",t.appendChild(n),S(n,"click").pipe().subscribe((()=>{n.src="../"+this.imageList[++ot%4]}))}getDriversByCar(t){return this.imageList=new Array,console.log(`fetching Car photos of ${t}`),fetch(`${rt}/photos/`+t).then((t=>{if(!t.ok)throw new Error("DB not found");t.json().then((t=>this.imageList=t))})).catch((t=>console.log("Error"+t))),Q(fetch(`${rt}/drivers/`+t).then((t=>{if(t.ok)return t.json();throw new Error("DB not found")})).catch((t=>console.log("Error"+t))))}WriteDrivers(){var t=this.container.getElementsByClassName("tabela")[0];void 0!==t&&t.remove();const e=document.createElement("table");e.className="tabela",this.container.appendChild(e),this.createTable(e),this.drivers.forEach((t=>{this.createTr(t,e)}))}createTable(t){this.createTh("Ime",t),this.createTh("Vozilo",t),this.createTh("Prosecna ocena",t),this.createTh("Koeficijent po minutu",t),this.createTh("Dugme za selekciju",t)}createTh(t,e){let n=document.createElement("th");n.innerHTML=t,n.style.margin="50%",e.appendChild(n)}createTr(t,e){const n=document.createElement("tr");e.appendChild(n),this.createTd(t.name,n),this.createTd(t.car.toString(),n),this.createTd(t.avgMark.toString(),n),this.createTd(t.priceCoefficient.toString(),n),this.createTdButton(t,"Selektuj ovog vozaca",n)}createTdButton(t,e,n){let r=document.createElement("td"),i=document.createElement("button");r.appendChild(i),i.innerHTML=e,r.style.margin="50%",i.className="dugmeUTabeli",n.appendChild(r),S(i,"click").subscribe((()=>{this.obs2$=M(t),console.log("OBS2 EMITTED, GOING INTO ZIPINPUTS"),this.zipInputs()}))}createTd(t,e){let n=document.createElement("td");n.innerHTML=t,n.style.margin="50%",e.appendChild(n)}createH2(t,e){const n=document.createElement("h2");n.innerHTML=t,e.appendChild(n)}}const ct=new class{constructor(t,e,n){this.name=t,this.address=e,this.idcard=n}set name(t){this._name=t}get name(){return this._name}set address(t){this._address=t}get address(){return this._address}set idcard(t){this._iDCard=t}get idcard(){return this._iDCard}checkInputs(){return console.log(this),void 0!==this.name&&void 0!==this.address&&0!==this.idcard}}(void 0,void 0,0);function ut(t,e){const n=document.createElement("h2");n.innerHTML=t,e.appendChild(n)}function at(t,e){const n=document.createElement("h3");void 0===t||0===parseInt(t)?n.innerHTML="Niste uneli ovaj podatak":n.innerHTML=t,e.appendChild(n)}function lt(t){var e=document.body.getElementsByClassName("DataViewDiv")[0];null!=e&&e.remove();const n=document.createElement("div");n.className="DataViewDiv",t.appendChild(n),ut("Vase ime:",n),at(ct.name,n),ut("Adresa na kojoj taksi dolazi po vas:",n),at(ct.address,n),ut("Broj licne karte:",n),at(ct.idcard.toString(),n)}function ht(){if(void 0===document.getElementsByClassName("TaxiLogicDiv")[0]){var t=document.getElementsByClassName("prikazRezervacija")[0];if(void 0!==t){const e=document.createElement("div");e.className="TaxiLogicDiv",document.body.insertBefore(e,t),(it=new st(ct,e)).draw()}}else it.SetAndStartUser(ct)}!function(){const t=document.createElement("div");t.className="DivHeader",document.body.appendChild(t),function(t,e){const n=document.createElement("h1");n.innerHTML="FICAX TAXI ONLINE",e.appendChild(n)}(0,t)}(),function(){const t=document.createElement("div");t.className="UserFormDiv",document.body.appendChild(t),function(t){const e=document.createElement("div");e.className="inputDiv",t.appendChild(e),ut("Unesite vase podatke:",e),function(t){const e=document.createElement("label");e.innerHTML="Unesite vase ime:",e.className="labela",t.appendChild(e);const n=document.createElement("input");n.type="text",n.className="inputName",t.appendChild(n),S(n,"input").pipe(k(500),w((t=>t.target.value)),I((t=>t.length>=3))).subscribe((t=>{ct.name=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&lt(e),ct.checkInputs()&&ht()}))}(e),function(t){const e=document.createElement("label");e.innerHTML="Unesite adresu na koju dolazi taksi:",e.className="labela",t.appendChild(e);const n=document.createElement("input");n.className="inputSurname",n.type="text",t.appendChild(n),S(n,"input").pipe(k(500),w((t=>t.target.value)),I((t=>t.length>=3))).subscribe((t=>{ct.address=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&lt(e),ct.checkInputs()&&ht()}))}(e),function(t){const e=document.createElement("label");e.innerHTML="Unesite broj licne karte:",e.className="labela",t.appendChild(e);const n=document.createElement("input");n.type="number",n.className="inputID",n.id="input",t.appendChild(n),S(n,"input").pipe(k(500),w((t=>t.target.value)),I((t=>9==t.length)),w((t=>parseInt(t)))).subscribe((t=>{ct.idcard=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&lt(e),ct.checkInputs()&&ht()}))}(e)}(t),lt(t)}(),function(){let t=document.createElement("div");t.className="prikazRezervacija",document.body.appendChild(t),at("Rezervacije:",t)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUFycmF5LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9JdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvaW5uZXJTdWJzY3JpYmUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvemlwLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vc3JjL3RheGktbG9naWMudHMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL3NyYy9mcm9tLnRzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9zcmMvdXNlci50cyJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJpc0Z1bmN0aW9uIiwieCIsIl9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyIsImNvbmZpZyIsIlByb21pc2UiLCJ1bmRlZmluZWQiLCJ2YWx1ZSIsIkVycm9yIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlcnIiLCJzZXRUaW1lb3V0IiwiZW1wdHkiLCJjbG9zZWQiLCJuZXh0IiwiZXJyb3IiLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwiY29tcGxldGUiLCJpc0FycmF5IiwibGVuZ3RoIiwiaXNPYmplY3QiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiVW5zdWJzY3JpcHRpb25FcnJvckltcGwiLCJlcnJvcnMiLCJjYWxsIiwibWVzc2FnZSIsIm1hcCIsImkiLCJ0b1N0cmluZyIsImpvaW4iLCJuYW1lIiwiU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfY3RvclVuc3Vic2NyaWJlIiwiX3Vuc3Vic2NyaWJlIiwiX2EiLCJyZW1vdmUiLCJpbmRleCIsImUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJsZW4iLCJzdWIiLCJjb25jYXQiLCJwdXNoIiwiYWRkIiwidGVhcmRvd24iLCJzdWJzY3JpcHRpb24iLCJFTVBUWSIsInRtcCIsImluZGV4T2YiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJzcGxpY2UiLCJyZWR1Y2UiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiU3ltYm9sIiwiTWF0aCIsInJhbmRvbSIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl90aGlzIiwic3luY0Vycm9yVmFsdWUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJpc1N0b3BwZWQiLCJhcmd1bWVudHMiLCJkZXN0aW5hdGlvbiIsIlNhZmVTdWJzY3JpYmVyIiwic3Vic2NyaWJlciIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiYmluZCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwiZm4iLCJwYXJlbnQiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwiaW5wdXQiLCJwcmV2IiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwicHJvamVjdCIsInRoaXNBcmciLCJUeXBlRXJyb3IiLCJNYXBPcGVyYXRvciIsIk1hcFN1YnNjcmliZXIiLCJjb3VudCIsInJlc3VsdCIsImZyb21FdmVudCIsInRhcmdldCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJyZXN1bHRTZWxlY3RvciIsImFyZ3MiLCJhcHBseSIsInNldHVwU3Vic2NyaXB0aW9uIiwic2xpY2UiLCJzb3VyY2VPYmoiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJvbiIsIm9mZiIsImlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIiLCJzb3VyY2VfMiIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwiQXN5bmNBY3Rpb24iLCJzY2hlZHVsZXIiLCJ3b3JrIiwicGVuZGluZyIsInNjaGVkdWxlIiwic3RhdGUiLCJkZWxheSIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsInNldEludGVydmFsIiwiZmx1c2giLCJjbGVhckludGVydmFsIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwibm93IiwiRGF0ZSIsIkFzeW5jU2NoZWR1bGVyIiwiZGVsZWdhdGUiLCJhY3RpdmUiLCJzY2hlZHVsZWQiLCJhY3Rpb24iLCJzaGlmdCIsImRlYm91bmNlVGltZSIsImR1ZVRpbWUiLCJEZWJvdW5jZVRpbWVPcGVyYXRvciIsIkRlYm91bmNlVGltZVN1YnNjcmliZXIiLCJkZWJvdW5jZWRTdWJzY3JpcHRpb24iLCJsYXN0VmFsdWUiLCJoYXNWYWx1ZSIsImNsZWFyRGVib3VuY2UiLCJkaXNwYXRjaE5leHQiLCJkZWJvdW5jZWROZXh0IiwiZmlsdGVyIiwicHJlZGljYXRlIiwiRmlsdGVyT3BlcmF0b3IiLCJGaWx0ZXJTdWJzY3JpYmVyIiwiaXNTY2hlZHVsZXIiLCJzdWJzY3JpYmVUb0FycmF5IiwiYXJyYXkiLCJzY2hlZHVsZUFycmF5IiwiZnJvbUFycmF5Iiwib2YiLCJwb3AiLCJnZXRTeW1ib2xJdGVyYXRvciIsIml0ZXJhdG9yIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJ0aGVuIiwic3Vic2NyaWJlVG8iLCJvYmoiLCJvYnMiLCJwcm9taXNlIiwiaXRlcmFibGUiLCJpdGVtIiwiZG9uZSIsInJldHVybiIsIlNpbXBsZUlubmVyU3Vic2NyaWJlciIsIm5vdGlmeU5leHQiLCJub3RpZnlFcnJvciIsIm5vdGlmeUNvbXBsZXRlIiwiU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIiwiaW5uZXJWYWx1ZSIsImlubmVyU3Vic2NyaWJlIiwiaW5uZXJTdWJzY3JpYmVyIiwiWmlwT3BlcmF0b3IiLCJaaXBTdWJzY3JpYmVyIiwidmFsdWVzIiwiaXRlcmF0b3JzIiwiU3RhdGljQXJyYXlJdGVyYXRvciIsIlN0YXRpY0l0ZXJhdG9yIiwiWmlwQnVmZmVySXRlcmF0b3IiLCJzdGlsbFVuc3Vic2NyaWJlZCIsIm5vdGlmeUluYWN0aXZlIiwiY2hlY2tJdGVyYXRvcnMiLCJzaG91bGRDb21wbGV0ZSIsImhhc0NvbXBsZXRlZCIsIl90cnlyZXN1bHRTZWxlY3RvciIsIm5leHRSZXN1bHQiLCJCb29sZWFuIiwiYnVmZmVyIiwiaXNDb21wbGV0ZSIsImZyb20iLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVQcm9taXNlIiwiaXNJdGVyYWJsZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzd2l0Y2hNYXAiLCJhIiwiaWkiLCJTd2l0Y2hNYXBPcGVyYXRvciIsIlN3aXRjaE1hcFN1YnNjcmliZXIiLCJfaW5uZXJTdWIiLCJpbm5lclN1YnNjcmlwdGlvbiIsIkFQSV9VUkwiLCJ0YXhpbG9naWMiLCJjb3VudGVyIiwiVGF4aUxvZ2ljIiwidG1wVXNlciIsImNvbnRhaW5lciIsIl9pbWFnZUxpc3QiLCJTZXRBbmRTdGFydFVzZXIiLCJ2cmVkbm9zdCIsIl91c2VyIiwiX2NvbnRhaW5lciIsImNyZWF0ZUNhck5hbWVCb3giLCJuZXdVc2VyIiwidXNlciIsIm9icyQiLCJsb2ciLCJvYnMyJCIsIm9ic2VydmFibGVzIiwiemlwIiwidmFsIiwiaW5wdXRSZXNlcnZhdGlvbiIsImxpc3RPZk9iamVjdHMiLCJkcml2ZXIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJib2R5IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImRpdkVsZW1lbnQiLCJjcmVhdGVEaXYiLCJjZW5hIiwiV3JpdGVMYWJlbCIsImFkZHJlc3MiLCJpZGNhcmQiLCJjYXIiLCJhdmdNYXJrIiwicmFuZ2VMZXZlbCIsInJvdW5kIiwicmFuZG9tTnVtYmVyIiwic3RhcnQiLCJjdXJyZW50IiwicHJpY2VDb2VmZmljaWVudCIsInBhcmVudERpdiIsImlucHV0RGl2IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwicGFyYW1zIiwibGFiZWwiLCJpbm5lckhUTUwiLCJzdHlsZSIsIm1hcmdpbiIsImNyZWF0ZUNvbWJvQm94IiwicGFyZW50RWxlbWVudCIsIm9wY2lqYSIsImNieCIsImZldGNoIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJjYXRjaCIsImNsYXNzTGlzdCIsImV2Iiwic2VsZWN0ZWQiLCJnZXREcml2ZXJzQnlDYXIiLCJkcml2ZXJBcnJheSIsImRyaXZlcnMiLCJXcml0ZURyaXZlcnMiLCJjcmVhdGVJbWFnZSIsImltYWdlIiwic3JjIiwiaW1hZ2VMaXN0IiwiY2FyTmFtZSIsInRhYmxlRGl2IiwiY3JlYXRlVGFibGUiLCJjcmVhdGVUciIsImNyZWF0ZVRoIiwidGV4dCIsInRoIiwidHIiLCJjcmVhdGVUZCIsImNyZWF0ZVRkQnV0dG9uIiwiYXJnMCIsInRkIiwiYnRuIiwiemlwSW5wdXRzIiwiVGhpbGlUZCIsImhlYWRlciIsIkluYW1lIiwiaWRDYXJkIiwiX25hbWUiLCJfYWRkcmVzcyIsIl9pRENhcmQiLCJjcmVhdGVIMiIsImNyZWF0ZUgzIiwiaGVhZGVyM0VsZW1lbnQiLCJwYXJzZUludCIsImNyZWF0ZVVzZXJEYXRhVmlldyIsIlVzZXJGb3JtRGl2IiwiY3JlYXRlVGF4aUxvZ2ljIiwicHJpa2F6UmV6ZXJ2YWNpamEiLCJUYXhpTG9naWNEaXYiLCJpbnNlcnRCZWZvcmUiLCJkcmF3IiwiZGl2SGVhZGVyIiwiaGVhZGVyMUVsZW1lbnQiLCJjcmVhdGVIMSIsImNyZWF0ZUhlYWRlciIsInR5cGUiLCJjaGVja0lucHV0cyIsImNyZWF0ZU5hbWVCb3giLCJzdXJuYW1lIiwiY3JlYXRlU3VyTmFtZUJveCIsImVsIiwiY3JlYXRlSURDYXJkQm94IiwiY3JlYXRlSW5wdXREaXYiLCJjcmVhdGVVc2VyRm9ybSIsImNyZWF0ZVJlc2VydmF0aW9ucyJdLCJtYXBwaW5ncyI6IjttQkFnQkEsSUFBSUEsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJNUIsT0FIQUYsRUFBZ0JHLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQSxFQUFFTSxlQUFlRCxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUNwRE4sRUFBR0MsSUFHckIsU0FBU08sRUFBVVIsRUFBR0MsR0FFekIsU0FBU1EsSUFBT0MsS0FBS0MsWUFBY1gsRUFEbkNELEVBQWNDLEVBQUdDLEdBRWpCRCxFQUFFWSxVQUFrQixPQUFOWCxFQUFhQyxPQUFPVyxPQUFPWixJQUFNUSxFQUFHRyxVQUFZWCxFQUFFVyxVQUFXLElBQUlILEdDekI1RSxTQUFTSyxFQUFXQyxHQUN2QixNQUFvQixtQkFBTkEsRUNEbEIsSUFBSUMsR0FBc0QsRUFDL0NDLEVBQVMsQ0FDaEJDLGFBQVNDLEVBQ1QsMENBQTBDQyxHQUNsQ0EsSUFDMEIsSUFB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QUFlakIsR0FDZkQsR0FBbUJDLEdBdkN2QmtCLEdBNklBLFdBQ0ksSUFBSWhCLEVBQW9CM0UsU0FBU21CLGNBQWMsT0FDL0N3RCxFQUFrQnZELFVBQVksb0JBQzlCcEIsU0FBU0MsS0FBS29CLFlBQVlzRCxHQUMxQk4sR0FBUyxlQUFnQk0sR0FoSjdCaUIsSSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSBmYWxzZTtcbmV4cG9ydCB2YXIgY29uZmlnID0ge1xuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcbiAgICBzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IC8qQF9fUFVSRV9fKi8gbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUud2FybignREVQUkVDQVRFRCEgUnhKUyB3YXMgc2V0IHRvIHVzZSBkZXByZWNhdGVkIHN5bmNocm9ub3VzIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yIGJ5IGNvZGUgYXQ6IFxcbicgKyBlcnJvci5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzKSB7XG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovIGNvbnNvbGUubG9nKCdSeEpTOiBCYWNrIHRvIGEgYmV0dGVyIGVycm9yIGJlaGF2aW9yLiBUaGFuayB5b3UuIDwzJyk7XG4gICAgICAgIH1cbiAgICAgICAgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gdmFsdWU7XG4gICAgfSxcbiAgICBnZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZygpIHtcbiAgICAgICAgcmV0dXJuIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncztcbiAgICB9LFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBob3N0UmVwb3J0RXJyb3IoZXJyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHRocm93IGVycjsgfSwgMCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ob3N0UmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBlbXB0eSA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheSB8fCAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJzsgfSk7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdG9yVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50T3JQYXJlbnRzID0gX2EuX3BhcmVudE9yUGFyZW50cywgX2N0b3JVbnN1YnNjcmliZSA9IF9hLl9jdG9yVW5zdWJzY3JpYmUsIF91bnN1YnNjcmliZSA9IF9hLl91bnN1YnNjcmliZSwgX3N1YnNjcmlwdGlvbnMgPSBfYS5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBfcGFyZW50T3JQYXJlbnRzLmxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRPclBhcmVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihfdW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICBpZiAoX2N0b3JVbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHJ4U3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCdyeFN1YnNjcmliZXInKVxuICAgICAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xufSkoKTtcbmV4cG9ydCB2YXIgJCRyeFN1YnNjcmliZXIgPSByeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gdGhpcy5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IF9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9pZGVudGl0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfdXRpbF9pc0Z1bmN0aW9uLF9vcGVyYXRvcnNfbWFwIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbnZhciB0b1N0cmluZyA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBpc0FycmF5KGFyZ3MpID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBhcmdzKSA6IHJlc3VsdFNlbGVjdG9yKGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmosIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucykge1xuICAgIHZhciB1bnN1YnNjcmliZTtcbiAgICBpZiAoaXNFdmVudFRhcmdldChzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMSA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzIgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5vbihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8yLm9mZihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMyA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzMucmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc291cmNlT2JqICYmIHNvdXJjZU9iai5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNvdXJjZU9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqW2ldLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGV2ZW50IHRhcmdldCcpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLmFkZCh1bnN1YnNjcmliZSk7XG59XG5mdW5jdGlvbiBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkTGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLm9uID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoub2ZmID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNFdmVudFRhcmdldChzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tRXZlbnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG52YXIgQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FjdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xudmFyIEFzeW5jQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIF90aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWxheSAhPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID09PSBkZWxheSAmJiB0aGlzLnBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2V4ZWN1dGUoc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLCB0aGlzLmlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICB2YXIgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud29yayhzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgZXJyb3JWYWx1ZSA9ICEhZSAmJiBlIHx8IG5ldyBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgdmFyIGluZGV4ID0gYWN0aW9ucy5pbmRleE9mKHRoaXMpO1xuICAgICAgICB0aGlzLndvcmsgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gbnVsbDtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY0FjdGlvbjtcbn0oQWN0aW9uKSk7XG5leHBvcnQgeyBBc3luY0FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNBY3Rpb24uanMubWFwXG4iLCJ2YXIgU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5vdyA9IFNjaGVkdWxlci5ub3c7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5TY2hlZHVsZXJBY3Rpb24gPSBTY2hlZHVsZXJBY3Rpb247XG4gICAgICAgIHRoaXMubm93ID0gbm93O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5TY2hlZHVsZXJBY3Rpb24odGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBEYXRlLm5vdygpOyB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9Bc3luY0FjdGlvbixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG5leHBvcnQgdmFyIGFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyBuZXcgQXN5bmNTY2hlZHVsZXIoQXN5bmNBY3Rpb24pO1xuZXhwb3J0IHZhciBhc3luYyA9IGFzeW5jU2NoZWR1bGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSBfdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5zY2hlZHVsZSh3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCB3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX3NjaGVkdWxlcl9hc3luYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlVGltZShkdWVUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHtcbiAgICAgICAgc2NoZWR1bGVyID0gYXN5bmM7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UubGlmdChuZXcgRGVib3VuY2VUaW1lT3BlcmF0b3IoZHVlVGltZSwgc2NoZWR1bGVyKSk7IH07XG59XG52YXIgRGVib3VuY2VUaW1lT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVib3VuY2VUaW1lT3BlcmF0b3IoZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHRoaXMuZHVlVGltZSA9IGR1ZVRpbWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIH1cbiAgICBEZWJvdW5jZVRpbWVPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IERlYm91bmNlVGltZVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5kdWVUaW1lLCB0aGlzLnNjaGVkdWxlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIERlYm91bmNlVGltZU9wZXJhdG9yO1xufSgpKTtcbnZhciBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKERlYm91bmNlVGltZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVib3VuY2VUaW1lU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kdWVUaW1lID0gZHVlVGltZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICBfdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY2xlYXJEZWJvdW5jZSgpO1xuICAgICAgICB0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hZGQodGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb24gPSB0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIHRoaXMuZHVlVGltZSwgdGhpcykpO1xuICAgIH07XG4gICAgRGVib3VuY2VUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlYm91bmNlZE5leHQoKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgRGVib3VuY2VUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuZGVib3VuY2VkTmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhckRlYm91bmNlKCk7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlID0gdGhpcy5sYXN0VmFsdWU7XG4gICAgICAgICAgICB0aGlzLmxhc3RWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQobGFzdFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVib3VuY2VUaW1lU3Vic2NyaWJlci5wcm90b3R5cGUuY2xlYXJEZWJvdW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAoZGVib3VuY2VkU3Vic2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShkZWJvdW5jZWRTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgZGVib3VuY2VkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5mdW5jdGlvbiBkaXNwYXRjaE5leHQoc3Vic2NyaWJlcikge1xuICAgIHN1YnNjcmliZXIuZGVib3VuY2VkTmV4dCgpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2VUaW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIEZpbHRlck9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgRmlsdGVyT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBGaWx0ZXJTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJlZGljYXRlLCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJPcGVyYXRvcjtcbn0oKSk7XG52YXIgRmlsdGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhGaWx0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZpbHRlclN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZpbHRlclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBGaWx0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNjaGVkdWxlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUb0FycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9BcnJheShpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUFycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc1NjaGVkdWxlcixfZnJvbUFycmF5LF9zY2hlZHVsZWRfc2NoZWR1bGVBcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBhcmdzLnBvcCgpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShhcmdzLCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZyb21BcnJheShhcmdzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XG59XG5leHBvcnQgdmFyIGl0ZXJhdG9yID0gLypAX19QVVJFX18qLyBnZXRTeW1ib2xJdGVyYXRvcigpO1xuZXhwb3J0IHZhciAkJGl0ZXJhdG9yID0gaXRlcmF0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0FycmF5TGlrZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3Vic2NyaWJlVG9BcnJheSxfc3Vic2NyaWJlVG9Qcm9taXNlLF9zdWJzY3JpYmVUb0l0ZXJhYmxlLF9zdWJzY3JpYmVUb09ic2VydmFibGUsX2lzQXJyYXlMaWtlLF9pc1Byb21pc2UsX2lzT2JqZWN0LF9zeW1ib2xfaXRlcmF0b3IsX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9Qcm9taXNlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb1Byb21pc2UnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9JdGVyYWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9JdGVyYWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb09ic2VydmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4vaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL2lzT2JqZWN0JztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUbyA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfb2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvT2JzZXJ2YWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5TGlrZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0FycmF5KHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUHJvbWlzZShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb1Byb21pc2UocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISFyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb0l0ZXJhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdmFsdWUgPSBpc09iamVjdChyZXN1bHQpID8gJ2FuIGludmFsaWQgb2JqZWN0JyA6IFwiJ1wiICsgcmVzdWx0ICsgXCInXCI7XG4gICAgICAgIHZhciBtc2cgPSBcIllvdSBwcm92aWRlZCBcIiArIHZhbHVlICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLlwiXG4gICAgICAgICAgICArICcgWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS4nO1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKG1zZyk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICBpZiAodHlwZW9mIG9icy5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pXG4gICAgICAgICAgICAudGhlbihudWxsLCBob3N0UmVwb3J0RXJyb3IpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb0l0ZXJhYmxlID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0ZW0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9JdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX09ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG8gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4vdXRpbC9zdWJzY3JpYmVUbyc7XG52YXIgU2ltcGxlSW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZUlubmVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVJbm5lclN1YnNjcmliZXIocGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZUlubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlSW5uZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4SW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhJbm5lclN1YnNjcmliZXIocGFyZW50LCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub3V0ZXJWYWx1ZSA9IG91dGVyVmFsdWU7XG4gICAgICAgIF90aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeU5leHQodGhpcy5vdXRlclZhbHVlLCB2YWx1ZSwgdGhpcy5vdXRlckluZGV4LCB0aGlzKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIENvbXBsZXhJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4SW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4SW5uZXJTdWJzY3JpYmVyIH07XG52YXIgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNpbXBsZU91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGlubmVyVmFsdWUpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH07XG4gICAgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyIH07XG52YXIgQ29tcGxleE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBsZXhPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChfb3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgX291dGVySW5kZXgsIF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKF9pbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcGxleE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgQ29tcGxleE91dGVyU3Vic2NyaWJlciB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgaWYgKGlubmVyU3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmliZVRvKHJlc3VsdCkoaW5uZXJTdWJzY3JpYmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyU3Vic2NyaWJlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfZnJvbUFycmF5LF91dGlsX2lzQXJyYXksX1N1YnNjcmliZXIsXy4uX2ludGVybmFsX3N5bWJvbF9pdGVyYXRvcixfaW5uZXJTdWJzY3JpYmUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgdW5kZWZpbmVkKS5saWZ0KG5ldyBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3RvcikpO1xufVxudmFyIFppcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFppcE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgWmlwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBaaXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBaaXBPcGVyYXRvciB9O1xudmFyIFppcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCByZXN1bHRTZWxlY3RvciwgdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuaXRlcmF0b3JzID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykgPyByZXN1bHRTZWxlY3RvciA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0FycmF5SXRlcmF0b3IodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0l0ZXJhdG9yKHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0oKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFppcEJ1ZmZlckl0ZXJhdG9yKHRoaXMuZGVzdGluYXRpb24sIHRoaXMsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICB2YXIgbGVuID0gaXRlcmF0b3JzLmxlbmd0aDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBsZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvci5zdGlsbFVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGl0ZXJhdG9yLnN1YnNjcmliZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUluYWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuY2hlY2tJdGVyYXRvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgdmFyIGxlbiA9IGl0ZXJhdG9ycy5sZW5ndGg7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IuaGFzVmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIWl0ZXJhdG9yLmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNob3VsZENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IuaGFzQ29tcGxldGVkKCkpIHtcbiAgICAgICAgICAgICAgICBzaG91bGRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl90cnlyZXN1bHRTZWxlY3RvcihhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5cmVzdWx0U2VsZWN0b3IgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgWmlwU3Vic2NyaWJlciB9O1xudmFyIFN0YXRpY0l0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0l0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgICAgIHRoaXMuaXRlcmF0b3IgPSBpdGVyYXRvcjtcbiAgICAgICAgdGhpcy5uZXh0UmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHRoaXMubmV4dFJlc3VsdCA9IHRoaXMuaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU3RhdGljSXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRSZXN1bHQgPSB0aGlzLm5leHRSZXN1bHQ7XG4gICAgICAgIHJldHVybiBCb29sZWFuKG5leHRSZXN1bHQgJiYgbmV4dFJlc3VsdC5kb25lKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNJdGVyYXRvcjtcbn0oKSk7XG52YXIgU3RhdGljQXJyYXlJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdGF0aWNBcnJheUl0ZXJhdG9yKGFycmF5KSB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgICAgICAgcmV0dXJuIGkgPCB0aGlzLmxlbmd0aCA/IHsgdmFsdWU6IGFycmF5W2ldLCBkb25lOiBmYWxzZSB9IDogeyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgIH07XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA+IHRoaXMuaW5kZXg7XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNDb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gdGhpcy5pbmRleDtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNBcnJheUl0ZXJhdG9yO1xufSgpKTtcbnZhciBaaXBCdWZmZXJJdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhaaXBCdWZmZXJJdGVyYXRvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBCdWZmZXJJdGVyYXRvcihkZXN0aW5hdGlvbiwgcGFyZW50LCBvYnNlcnZhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGUgPSBvYnNlcnZhYmxlO1xuICAgICAgICBfdGhpcy5zdGlsbFVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbF9pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDAgJiYgdGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbnVsbCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGJ1ZmZlci5zaGlmdCgpLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQ29tcGxldGU7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5SW5hY3RpdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGlubmVyVmFsdWUpO1xuICAgICAgICB0aGlzLnBhcmVudC5jaGVja0l0ZXJhdG9ycygpO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlubmVyU3Vic2NyaWJlKHRoaXMub2JzZXJ2YWJsZSwgbmV3IFNpbXBsZUlubmVyU3Vic2NyaWJlcih0aGlzKSk7XG4gICAgfTtcbiAgICByZXR1cm4gWmlwQnVmZmVySXRlcmF0b3I7XG59KFNpbXBsZU91dGVyU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9emlwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyxfc2NoZWR1bGVkX3NjaGVkdWxlZCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUbyB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG8nO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhpbnB1dCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc2NoZWR1bGVPYnNlcnZhYmxlLF9zY2hlZHVsZVByb21pc2UsX3NjaGVkdWxlQXJyYXksX3NjaGVkdWxlSXRlcmFibGUsX3V0aWxfaXNJbnRlcm9wT2JzZXJ2YWJsZSxfdXRpbF9pc1Byb21pc2UsX3V0aWxfaXNBcnJheUxpa2UsX3V0aWxfaXNJdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSXRlcmFibGUoaW5wdXQpIHx8IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCB8fCBpbnB1dCkgKyAnIGlzIG5vdCBvYnNlcnZhYmxlJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvciAmJiB0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGRvbmUgPSByZXN1bHQuZG9uZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX21hcCxfb2JzZXJ2YWJsZV9mcm9tLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvZnJvbSc7XG5pbXBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIsIFNpbXBsZUlubmVyU3Vic2NyaWJlciwgaW5uZXJTdWJzY3JpYmUgfSBmcm9tICcuLi9pbm5lclN1YnNjcmliZSc7XG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChhLCBpKSB7IHJldHVybiBmcm9tKHByb2plY3QoYSwgaSkpLnBpcGUobWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KSk7IH0pKTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTd2l0Y2hNYXBPcGVyYXRvcihwcm9qZWN0KSk7IH07XG59XG52YXIgU3dpdGNoTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3dpdGNoTWFwT3BlcmF0b3IocHJvamVjdCkge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgIH1cbiAgICBTd2l0Y2hNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFN3aXRjaE1hcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcm9qZWN0KSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3dpdGNoTWFwT3BlcmF0b3I7XG59KCkpO1xudmFyIFN3aXRjaE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3dpdGNoTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTd2l0Y2hNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0KTtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gdGhpcy5pbm5lclN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGlubmVyU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IGlubmVyU3Vic2NyaWJlKHJlc3VsdCwgaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gIT09IGlubmVyU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKHRoaXMuaW5uZXJTdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTd2l0Y2hNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmlwdGlvbiA9IHRoaXMuaW5uZXJTdWJzY3JpcHRpb247XG4gICAgICAgIGlmICghaW5uZXJTdWJzY3JpcHRpb24gfHwgaW5uZXJTdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm5lclN1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3dpdGNoTWFwU3Vic2NyaWJlcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXAuanMubWFwXG4iLCJpbXBvcnQgeyBmcm9tLCBmcm9tRXZlbnQsIG9mLCByYW5nZSwgemlwIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgZmlsdGVyLCBtYXAsIHN3aXRjaE1hcCwgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcclxuY29uc3QgQVBJX1VSTCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCI7XHJcbnZhciBjb3VudGVyID0gMDtcclxuZXhwb3J0IGNsYXNzIFRheGlMb2dpYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0bXBVc2VyLCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLl9pbWFnZUxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLl9pbWFnZUxpc3QgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB0aGlzLlNldEFuZFN0YXJ0VXNlcih0bXBVc2VyKTtcclxuICAgIH1cclxuICAgIHNldCB1c2VyKHZyZWRub3N0KSB7XHJcbiAgICAgICAgdGhpcy5fdXNlciA9IHZyZWRub3N0O1xyXG4gICAgfVxyXG4gICAgZ2V0IHVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgY29udGFpbmVyKHZyZWRub3N0KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gdnJlZG5vc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgY29udGFpbmVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgaW1hZ2VMaXN0KHZyZWRub3N0KSB7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VMaXN0ID0gdnJlZG5vc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgaW1hZ2VMaXN0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbWFnZUxpc3Q7XHJcbiAgICB9XHJcbiAgICBkcmF3KCkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FyTmFtZUJveCgpO1xyXG4gICAgfVxyXG4gICAgU2V0QW5kU3RhcnRVc2VyKG5ld1VzZXIpIHtcclxuICAgICAgICB0aGlzLnVzZXIgPSBuZXdVc2VyO1xyXG4gICAgICAgIHRoaXMub2JzJCA9IG9mKHRoaXMudXNlclxyXG4gICAgICAgIC8vIG5ldyBVc2VyKHRoaXMudXNlci5uYW1lLCB0aGlzLnVzZXIuYWRkcmVzcywgdGhpcy51c2VyLmlkY2FyZClcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgemlwSW5wdXRzKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiWklQT1ZBTkpFIE9CU0VSVkFCTEUgT0JKRUtBVEFcIik7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzJCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzMiQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiWklQIFZBTElEQUNJSkEgSVNQUkFWTkFcIik7XHJcbiAgICAgICAgemlwKHRoaXMub2JzJCwgdGhpcy5vYnMyJClcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgodmFsKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRSZXNlcnZhdGlvbih2YWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaW5wdXRSZXNlcnZhdGlvbihsaXN0T2ZPYmplY3RzKSB7XHJcbiAgICAgICAgbGV0IHVzZXIgPSBsaXN0T2ZPYmplY3RzWzBdO1xyXG4gICAgICAgIGxldCBkcml2ZXIgPSBsaXN0T2ZPYmplY3RzWzFdO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwcmlrYXpSZXplcnZhY2lqYVwiKVswXTtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IHRoaXMuY3JlYXRlRGl2KGVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChcIktvcmlzbmlrOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwodXNlci5uYW1lLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwoXCJBZHJlc2E6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbCh1c2VyLmFkZHJlc3MsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChcIkxpY25hIGthcnRhOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwodXNlci5pZGNhcmQudG9TdHJpbmcoKSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiVm96YWM6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChkcml2ZXIubmFtZSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiQXV0b21vYmlsOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwoZHJpdmVyLmNhciwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiUHJvc2VjbmEgb2NlbmE6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChkcml2ZXIuYXZnTWFyay50b1N0cmluZygpLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB2YXIgY2VuYTtcclxuICAgICAgICBsZXQgcmFuZ2VMZXZlbCA9IE1hdGgucm91bmQoKChNYXRoLnJhbmRvbSgpICogMTAwKSAlIDIwKSArIDEwKTtcclxuICAgICAgICBsZXQgcmFuZG9tTnVtYmVyID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDEwMCkgJSByYW5nZUxldmVsKTtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSYW5nZUxldmVsOlwiICsgcmFuZ2VMZXZlbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyYW5kb21OdW1iZXJcIiArIHJhbmRvbU51bWJlcik7XHJcbiAgICAgICAgcmFuZ2UoMTAsIHJhbmdlTGV2ZWwpIC8vT2QgMTAgZG8gMTArcmFuZ2VMZXZlbC0xXHJcbiAgICAgICAgICAgIC5waXBlKG1hcCgoeCkgPT4geCAqIHgpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCh4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bnRlclwiICsgY291bnRlcik7XHJcbiAgICAgICAgICAgIGlmIChjb3VudGVyKysgPT09IHJhbmRvbU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coeCk7XHJcbiAgICAgICAgICAgICAgICBjZW5hID0geDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG92cmF0bmEgdnJkLiBqZTpcIiArIGNlbmEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiQ2VuYTpcIiwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLldyaXRlTGFiZWwoKGRyaXZlci5wcmljZUNvZWZmaWNpZW50ICogY2VuYSkudG9TdHJpbmcoKSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZURpdihwYXJlbnREaXYpIHtcclxuICAgICAgICBjb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaW5wdXREaXYuY2xhc3NOYW1lID0gXCJyZXNlcnZhdGlvblwiO1xyXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0RGl2O1xyXG4gICAgfVxyXG4gICAgV3JpdGVMYWJlbChwYXJhbXMsIGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBwYXJhbXM7XHJcbiAgICAgICAgbGFiZWwuc3R5bGUubWFyZ2luID0gXCIxMHB4XCI7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVDYXJOYW1lQm94KCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBpbnB1dERpdi5jbGFzc05hbWUgPSBcIlRheGlMb2dpY1wiO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0RGl2KTtcclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBcIkl6YWJlcml0ZSBtYXJrdSBhdXRvbW9iaWxhIGtvamkgemVsaXRlOlwiO1xyXG4gICAgICAgIGxhYmVsLnN0eWxlLm1hcmdpbiA9IFwiMTBweFwiO1xyXG4gICAgICAgIGlucHV0RGl2LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbWJvQm94KGlucHV0RGl2KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNvbWJvQm94KHBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgb3BjaWphO1xyXG4gICAgICAgIHZhciBjYnggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xyXG4gICAgICAgIGNieC5jbGFzc05hbWUgPSBcInNlbGVrY2lqYVwiO1xyXG4gICAgICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2J4KTtcclxuICAgICAgICBmcm9tKGZldGNoKGAke0FQSV9VUkx9L2NhcnNgKSAvLz90aXRsZT0ke21hcmt9YGApXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEQiBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coXCJFcnJvclwiICsgZXJyKSkpLnN1YnNjcmliZSgoY2FyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhcik7XHJcbiAgICAgICAgICAgIG9wY2lqYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgIG9wY2lqYS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgICAgICBvcGNpamEuY2xhc3NMaXN0LmFkZChcIm9wY2lqYVwiKTtcclxuICAgICAgICAgICAgb3BjaWphLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgY2J4LmFwcGVuZENoaWxkKG9wY2lqYSk7XHJcbiAgICAgICAgICAgIGNhci5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBvcGNpamEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgb3BjaWphLmlubmVySFRNTCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBvcGNpamEuY2xhc3NMaXN0LmFkZChcIm9wY2lqYVwiKTtcclxuICAgICAgICAgICAgICAgIG9wY2lqYS52YWx1ZSA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBjYnguYXBwZW5kQ2hpbGQob3BjaWphKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnJvbUV2ZW50KGNieCwgXCJjbGlja1wiKVxyXG4gICAgICAgICAgICAucGlwZShtYXAoKGV2KSA9PiBldi50YXJnZXQudmFsdWUpLCBmaWx0ZXIodnJlZG5vc3QgPT4gdnJlZG5vc3QgIT09IFwiXCIpLCBzd2l0Y2hNYXAoKHNlbGVjdGVkKSA9PiB0aGlzLmdldERyaXZlcnNCeUNhcihzZWxlY3RlZCkpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChkcml2ZXJBcnJheSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRyaXZlcnMgPSBkcml2ZXJBcnJheTtcclxuICAgICAgICAgICAgdGhpcy5Xcml0ZURyaXZlcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShwYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUltYWdlKGlucHV0RGl2KSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW1hZ2VcIilbMF07XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgY291bnRlciA9IGNvdW50ZXIgJSA0O1xyXG4gICAgICAgIGltYWdlLnNyYyA9IFwiLi4vXCIgKyB0aGlzLmltYWdlTGlzdFtjb3VudGVyXTtcclxuICAgICAgICBpbWFnZS5jbGFzc05hbWUgPSBcImltYWdlXCI7XHJcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xyXG4gICAgICAgIGZyb21FdmVudChpbWFnZSwgXCJjbGlja1wiKVxyXG4gICAgICAgICAgICAucGlwZSgpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBcIi4uL1wiICsgdGhpcy5pbWFnZUxpc3RbKytjb3VudGVyICUgNF07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXREcml2ZXJzQnlDYXIoY2FyTmFtZSkge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VMaXN0ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYGZldGNoaW5nIENhciBwaG90b3Mgb2YgJHtjYXJOYW1lfWApO1xyXG4gICAgICAgIGZldGNoKGAke0FQSV9VUkx9L3Bob3Rvcy9gICsgY2FyTmFtZSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsID0gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgZWwudGhlbigoaXRlbSkgPT4gdGhpcy5pbWFnZUxpc3QgPSBpdGVtXHJcbiAgICAgICAgICAgICAgICAvLyBpdGVtLmZvckVhY2goKGVsZW1lbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICB0aGlzLmltYWdlTGlzdC5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEQiBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coXCJFcnJvclwiICsgZXJyKSk7XHJcbiAgICAgICAgcmV0dXJuIGZyb20oZmV0Y2goYCR7QVBJX1VSTH0vZHJpdmVycy9gICsgY2FyTmFtZSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRCIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKSk7XHJcbiAgICB9XHJcbiAgICBXcml0ZURyaXZlcnMoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFiZWxhXCIpWzBdO1xyXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgY29uc3QgdGFibGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICAgICAgdGFibGVEaXYuY2xhc3NOYW1lID0gXCJ0YWJlbGFcIjtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUYWJsZSh0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5kcml2ZXJzLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUcihwLCB0YWJsZURpdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVUYWJsZSh0YWJsZURpdikge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGgoXCJJbWVcIiwgdGFibGVEaXYpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGgoXCJWb3ppbG9cIiwgdGFibGVEaXYpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGgoXCJQcm9zZWNuYSBvY2VuYVwiLCB0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUaChcIktvZWZpY2lqZW50IHBvIG1pbnV0dVwiLCB0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUaChcIkR1Z21lIHphIHNlbGVrY2lqdVwiLCB0YWJsZURpdik7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVUaCh0ZXh0LCBlbGVtZW50KSB7XHJcbiAgICAgICAgbGV0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgIHRoLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgdGguc3R5bGUubWFyZ2luID0gXCI1MCVcIjtcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVRyKHAsIHRhYmxlRGl2KSB7XHJcbiAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgICAgdGFibGVEaXYuYXBwZW5kQ2hpbGQodHIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGQocC5uYW1lLCB0cik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUZChwLmNhci50b1N0cmluZygpLCB0cik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUZChwLmF2Z01hcmsudG9TdHJpbmcoKSwgdHIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGQocC5wcmljZUNvZWZmaWNpZW50LnRvU3RyaW5nKCksIHRyKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRkQnV0dG9uKHAsIFwiU2VsZWt0dWogb3ZvZyB2b3phY2FcIiwgdHIpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVGRCdXR0b24oZHJpdmVyLCBhcmcwLCB0cikge1xyXG4gICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICAgICAgICBsZXQgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICB0ZC5hcHBlbmRDaGlsZChidG4pO1xyXG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSBhcmcwO1xyXG4gICAgICAgIHRkLnN0eWxlLm1hcmdpbiA9IFwiNTAlXCI7XHJcbiAgICAgICAgYnRuLmNsYXNzTmFtZSA9IFwiZHVnbWVVVGFiZWxpXCI7XHJcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG4gICAgICAgIGZyb21FdmVudChidG4sIFwiY2xpY2tcIilcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzMiQgPSBvZihkcml2ZXIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9CUzIgRU1JVFRFRCwgR09JTkcgSU5UTyBaSVBJTlBVVFNcIik7XHJcbiAgICAgICAgICAgIHRoaXMuemlwSW5wdXRzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVUZCh0ZXh0LCBUaGlsaVRkKSB7XHJcbiAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgICAgIHRkLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgdGQuc3R5bGUubWFyZ2luID0gXCI1MCVcIjtcclxuICAgICAgICBUaGlsaVRkLmFwcGVuZENoaWxkKHRkKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUgyKHRleHQsIGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgICAgICAgaGVhZGVyLmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgZmlsdGVyLCBtYXAgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcclxuaW1wb3J0IHsgVGF4aUxvZ2ljIH0gZnJvbSBcIi4vdGF4aS1sb2dpY1wiO1xyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4vdXNlclwiO1xyXG5jb25zdCBBUElfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIjtcclxudmFyIGNvdW50ZXIgPSAwO1xyXG52YXIgdGF4aWxvZ2ljO1xyXG5jb25zdCB1c2VyID0gbmV3IFVzZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIDApO1xyXG5jcmVhdGVIZWFkZXIoKTtcclxuY3JlYXRlVXNlckZvcm0oKTtcclxuY3JlYXRlUmVzZXJ2YXRpb25zKCk7XHJcbi8vRlVOS0NJSkUgWkEgRE9NIEVMRU1FTlRFXHJcbmZ1bmN0aW9uIGNyZWF0ZUgxKHRleHQsIGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGhlYWRlcjFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgaGVhZGVyMUVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyMUVsZW1lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUgyKHRleHQsIGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuICAgIGhlYWRlci5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUgzKHRleHQsIGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGhlYWRlcjNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xyXG4gICAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCB8fCBwYXJzZUludCh0ZXh0KSA9PT0gMClcclxuICAgICAgICBoZWFkZXIzRWxlbWVudC5pbm5lckhUTUwgPSBcIk5pc3RlIHVuZWxpIG92YWogcG9kYXRha1wiO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGhlYWRlcjNFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlcjNFbGVtZW50KTtcclxufVxyXG4vLyBmdW5jdGlvbiBjcmVhdGVINCh0ZXh0OiBzdHJpbmcsIGVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XHJcbi8vICAgY29uc3QgaGVhZGVyNEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDRcIik7XHJcbi8vICAgaWYgKHRleHQgPT09IHVuZGVmaW5lZCB8fCBwYXJzZUludCh0ZXh0KSA9PT0gMClcclxuLy8gICAgIGhlYWRlcjRFbGVtZW50LmlubmVySFRNTCA9IFwiTmlzdGUgdW5lbGkgb3ZhaiBwb2RhdGFrXCI7XHJcbi8vICAgZWxzZSBoZWFkZXI0RWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4vLyAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyNEVsZW1lbnQpO1xyXG4vLyB9XHJcbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcclxuICAgIGNvbnN0IGRpdkhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkaXZIZWFkZXIuY2xhc3NOYW1lID0gXCJEaXZIZWFkZXJcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2SGVhZGVyKTtcclxuICAgIGNyZWF0ZUgxKGBGSUNBWCBUQVhJIE9OTElORWAsIGRpdkhlYWRlcik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlVXNlckZvcm0oKSB7XHJcbiAgICBjb25zdCBVc2VyRm9ybURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBVc2VyRm9ybURpdi5jbGFzc05hbWUgPSBcIlVzZXJGb3JtRGl2XCI7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKFVzZXJGb3JtRGl2KTtcclxuICAgIGNyZWF0ZUlucHV0RGl2KFVzZXJGb3JtRGl2KTtcclxuICAgIGNyZWF0ZVVzZXJEYXRhVmlldyhVc2VyRm9ybURpdik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5wdXREaXYoZWxlbWVudCkge1xyXG4gICAgY29uc3QgaW5wdXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgaW5wdXREaXYuY2xhc3NOYW1lID0gXCJpbnB1dERpdlwiO1xyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbiAgICBjcmVhdGVIMihgVW5lc2l0ZSB2YXNlIHBvZGF0a2U6YCwgaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlTmFtZUJveChpbnB1dERpdik7XHJcbiAgICBjcmVhdGVTdXJOYW1lQm94KGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZUlEQ2FyZEJveChpbnB1dERpdik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlVXNlckRhdGFWaWV3KFVzZXJGb3JtRGl2KSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkRhdGFWaWV3RGl2XCIpWzBdO1xyXG4gICAgaWYgKGVsZW1lbnQgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICBjb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dERpdi5jbGFzc05hbWUgPSBcIkRhdGFWaWV3RGl2XCI7XHJcbiAgICBVc2VyRm9ybURpdi5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbiAgICBjcmVhdGVIMihcIlZhc2UgaW1lOlwiLCBpbnB1dERpdik7XHJcbiAgICBjcmVhdGVIMyh1c2VyLm5hbWUsIGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZUgyKFwiQWRyZXNhIG5hIGtvam9qIHRha3NpIGRvbGF6aSBwbyB2YXM6XCIsIGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZUgzKHVzZXIuYWRkcmVzcywgaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlSDIoXCJCcm9qIGxpY25lIGthcnRlOlwiLCBpbnB1dERpdik7XHJcbiAgICBjcmVhdGVIMyh1c2VyLmlkY2FyZC50b1N0cmluZygpLCBpbnB1dERpdik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlTmFtZUJveChlbGVtZW50KSB7XHJcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIGxhYmVsLmlubmVySFRNTCA9IFwiVW5lc2l0ZSB2YXNlIGltZTpcIjtcclxuICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwibGFiZWxhXCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xyXG4gICAgaW5wdXQuY2xhc3NOYW1lID0gXCJpbnB1dE5hbWVcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbiAgICAgICAgLnBpcGUoZGVib3VuY2VUaW1lKDUwMCksIG1hcCgoZXYpID0+IGV2LnRhcmdldC52YWx1ZSksIGZpbHRlcigodGV4dCkgPT4gdGV4dC5sZW5ndGggPj0gMykpXHJcbiAgICAgICAgLnN1YnNjcmliZSgobmFtZSkgPT4ge1xyXG4gICAgICAgIHVzZXIubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJVc2VyRm9ybURpdlwiKVswXTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjcmVhdGVVc2VyRGF0YVZpZXcoeCk7XHJcbiAgICAgICAgaWYgKHVzZXIuY2hlY2tJbnB1dHMoKSlcclxuICAgICAgICAgICAgY3JlYXRlVGF4aUxvZ2ljKCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTdXJOYW1lQm94KGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gXCJVbmVzaXRlIGFkcmVzdSBuYSBrb2p1IGRvbGF6aSB0YWtzaTpcIjtcclxuICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwibGFiZWxhXCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgaW5wdXQuY2xhc3NOYW1lID0gXCJpbnB1dFN1cm5hbWVcIjtcclxuICAgIGlucHV0LnR5cGUgPSBcInRleHRcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbiAgICAgICAgLnBpcGUoZGVib3VuY2VUaW1lKDUwMCksIG1hcCgoZXYpID0+IGV2LnRhcmdldC52YWx1ZSksIGZpbHRlcigodGV4dCkgPT4gdGV4dC5sZW5ndGggPj0gMykpXHJcbiAgICAgICAgLnN1YnNjcmliZSgoc3VybmFtZSkgPT4ge1xyXG4gICAgICAgIHVzZXIuYWRkcmVzcyA9IHN1cm5hbWU7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJVc2VyRm9ybURpdlwiKVswXTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjcmVhdGVVc2VyRGF0YVZpZXcoeCk7XHJcbiAgICAgICAgaWYgKHVzZXIuY2hlY2tJbnB1dHMoKSlcclxuICAgICAgICAgICAgY3JlYXRlVGF4aUxvZ2ljKCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVJRENhcmRCb3goZWxlbWVudCkge1xyXG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBcIlVuZXNpdGUgYnJvaiBsaWNuZSBrYXJ0ZTpcIjtcclxuICAgIGxhYmVsLmNsYXNzTmFtZSA9IFwibGFiZWxhXCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgaW5wdXQudHlwZSA9IFwibnVtYmVyXCI7XHJcbiAgICBpbnB1dC5jbGFzc05hbWUgPSBcImlucHV0SURcIjtcclxuICAgIGlucHV0LmlkID0gXCJpbnB1dFwiO1xyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICBmcm9tRXZlbnQoaW5wdXQsIFwiaW5wdXRcIilcclxuICAgICAgICAucGlwZShkZWJvdW5jZVRpbWUoNTAwKSwgbWFwKChldikgPT4gZXYudGFyZ2V0LnZhbHVlKSwgZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0Lmxlbmd0aCA9PSA5KSwgbWFwKChlbCkgPT4gcGFyc2VJbnQoZWwpKSlcclxuICAgICAgICAuc3Vic2NyaWJlKChpZCkgPT4ge1xyXG4gICAgICAgIHVzZXIuaWRjYXJkID0gaWQ7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJVc2VyRm9ybURpdlwiKVswXTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjcmVhdGVVc2VyRGF0YVZpZXcoeCk7XHJcbiAgICAgICAgaWYgKHVzZXIuY2hlY2tJbnB1dHMoKSkge1xyXG4gICAgICAgICAgICBjcmVhdGVUYXhpTG9naWMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVUYXhpTG9naWMoKSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJUYXhpTG9naWNEaXZcIilbMF07XHJcbiAgICBpZiAoZWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGF4aWxvZ2ljLlNldEFuZFN0YXJ0VXNlcih1c2VyKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcHJpa2F6UmV6ZXJ2YWNpamEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHJpa2F6UmV6ZXJ2YWNpamFcIilbMF07XHJcbiAgICBpZiAocHJpa2F6UmV6ZXJ2YWNpamEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IFRheGlMb2dpY0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgVGF4aUxvZ2ljRGl2LmNsYXNzTmFtZSA9IFwiVGF4aUxvZ2ljRGl2XCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoVGF4aUxvZ2ljRGl2LCBwcmlrYXpSZXplcnZhY2lqYSk7XHJcbiAgICAgICAgdGF4aWxvZ2ljID0gbmV3IFRheGlMb2dpYyh1c2VyLCBUYXhpTG9naWNEaXYpO1xyXG4gICAgICAgIHRheGlsb2dpYy5kcmF3KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVzZXJ2YXRpb25zKCkge1xyXG4gICAgbGV0IHByaWthelJlemVydmFjaWphID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHByaWthelJlemVydmFjaWphLmNsYXNzTmFtZSA9IFwicHJpa2F6UmV6ZXJ2YWNpamFcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocHJpa2F6UmV6ZXJ2YWNpamEpO1xyXG4gICAgY3JlYXRlSDMoXCJSZXplcnZhY2lqZTpcIiwgcHJpa2F6UmV6ZXJ2YWNpamEpO1xyXG59XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIGZ1bmN0aW9uIGdldFN0dWRlbnRzQnlNYXJrKG1hcms6IHN0cmluZyk6IE9ic2VydmFibGU8RHJpdmVyW10+IHtcclxuLy8gICBjb25zb2xlLmxvZyhgZmV0Y2hpbmcgbW92aWUgd2l0aCBhIG1hcmsgJHttYXJrfWApO1xyXG4vLyAgIHJldHVybiBmcm9tKFxyXG4vLyAgICAgZmV0Y2goYCR7QVBJX1VSTH0vc3R1ZGVudHMvYCkgLy8/dGl0bGU9JHttYXJrfWBgKVxyXG4vLyAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuLy8gICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuLy8gICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuLy8gICAgICAgICAgIHJldHVybiByZXNwb25zZVxyXG4vLyAgICAgICAgICAgICAuanNvbigpXHJcbi8vICAgICAgICAgICAgIC50aGVuKChwKSA9PlxyXG4vLyAgICAgICAgICAgICAgIHAuZmlsdGVyKFxyXG4vLyAgICAgICAgICAgICAgICAgKHE6IHsgYXZnTWFyazogbnVtYmVyIH0pID0+IHEuYXZnTWFyayA+PSBwYXJzZUZsb2F0KG1hcmspXHJcbi8vICAgICAgICAgICAgICAgKVxyXG4vLyAgICAgICAgICAgICApO1xyXG4vLyAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBhaW4ndCBva1wiKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH0pXHJcbi8vICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKVxyXG4vLyAgICk7XHJcbi8vIH1cclxuLy8gICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuLy8gICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuLy8gICBpbnB1dC5pZCA9IFwiaW5wdXRcIjtcclxuLy8gICBpbnB1dERpdi5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbi8vICAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbi8vICAgICAucGlwZShcclxuLy8gICAgICAgZGVib3VuY2VUaW1lKDUwMCksXHJcbi8vICAgICAgIG1hcCgoZXY6IElucHV0RXZlbnQpID0+ICg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKSxcclxuLy8gICAgICAgZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0Lmxlbmd0aCA+PSA0KSxcclxuLy8gICAgICAgc3dpdGNoTWFwKFxyXG4vLyAgICAgICAgIChzdHVkZW50KSA9PiBnZXRTdHVkZW50c0J5WWVhcihzdHVkZW50KSAvLy5waXBlKFxyXG4vLyAgICAgICAgIC8vbWFwKHN0dWRlbnRzID0+IHN0dWRlbnRzLmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpKVxyXG4vLyAgICAgICApIC8vKSlcclxuLy8gICAgICAgLy9tYXAobW92aWVzID0+IG1vdmllc1swXSlcclxuLy8gICAgIClcclxuLy8gICAgIC5zdWJzY3JpYmUoKGRyaXZlckFycmF5OiBEcml2ZXJbXSkgPT4ge1xyXG4vLyAgICAgIC8vIGNvbnNvbGUubG9nKHN0dWRlbnQpO1xyXG4vLyAgICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4vLyAgICAgICBXcml0ZURyaXZlcnMoZHJpdmVyQXJyYXkpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gZ2V0U3R1ZGVudHNCeVllYXIoeWVhcjogc3RyaW5nKTogT2JzZXJ2YWJsZTxEcml2ZXJbXT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKGBmZXRjaGluZyBtb3ZpZSB3aXRoIGEgbWFyayAke3llYXJ9YCk7XHJcbi8vICAgcmV0dXJuIGZyb20oXHJcbi8vICAgICBmZXRjaChgJHtBUElfVVJMfS9zdHVkZW50cy9gKSAvLz90aXRsZT0ke21hcmt9YGApXHJcbi8vICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4vLyAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4vLyAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4vLyAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlXHJcbi8vICAgICAgICAgICAgIC5qc29uKClcclxuLy8gICAgICAgICAgICAgLnRoZW4oKHApID0+XHJcbi8vICAgICAgICAgICAgICAgcC5maWx0ZXIoKHE6IHsgeWVhcjogbnVtYmVyIH0pID0+IHEueWVhciA+PSBwYXJzZUZsb2F0KHllYXIpKVxyXG4vLyAgICAgICAgICAgICApO1xyXG4vLyAgICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEQiBub3QgZm91bmRcIik7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9KVxyXG4vLyAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coXCJFcnJvclwiICsgZXJyKSlcclxuLy8gICApO1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIFdyaXRlRHJpdmVycyhzdHVkZW50czogRHJpdmVyW10pIHtcclxuLy8gICBpZiAoY291bnRlcisrID09IDApIGNyZWF0ZUgyKFwiVGFiZWxhIHN2aWggc3R1ZGVuYXRhXCIsIGRvY3VtZW50LmJvZHkpO1xyXG4vLyAgIGVsc2VcclxuLy8gICAgIGNyZWF0ZUgyKFxyXG4vLyAgICAgICBcIlRhYmVsYSBzZWxla3RvdmFuaWggc3R1ZGVuYXRhIGJyLiBcIiArIGAke2NvdW50ZXIgLSAxfWAsXHJcbi8vICAgICAgIGRvY3VtZW50LmJvZHlcclxuLy8gICAgICk7XHJcbi8vICAgY29uc3QgdGFibGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbi8vICAgdGFibGVEaXYuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIjtcclxuLy8gICAvL3RhYmxlRGl2LnN0eWxlLmJvcmRlckNvbGxhcHNlID0gXCJjb2xsYXBzZVwiO1xyXG4vLyAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFibGVEaXYpO1xyXG4vLyAgIGNyZWF0ZVRhYmxlKHRhYmxlRGl2KTtcclxuLy8gICBzdHVkZW50cy5mb3JFYWNoKChwKSA9PiB7XHJcbi8vICAgICBjcmVhdGVUcihwLCB0YWJsZURpdik7XHJcbi8vICAgfSk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY3JlYXRlVHIocDogRHJpdmVyLCB0YWJsZURpdjogSFRNTEVsZW1lbnQpIHtcclxuLy8gICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuLy8gICB0YWJsZURpdi5hcHBlbmRDaGlsZCh0cik7XHJcbi8vICAgY3JlYXRlVGQocC5uYW1lLCB0cik7XHJcbi8vICAgY3JlYXRlVGQocC5jYXIudG9TdHJpbmcoKSwgdHIpO1xyXG4vLyAgIGNyZWF0ZVRkKHAuYXZnTWFyay50b1N0cmluZygpLCB0cik7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY3JlYXRlVGFibGUodGFibGVEaXY6IEhUTUxUYWJsZUVsZW1lbnQpIHtcclxuLy8gICAvLyBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbi8vICAgLy8gdGguc3R5bGUudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuLy8gICAvLyB0YWJsZURpdi5hcHBlbmRDaGlsZCh0aCk7XHJcbi8vICAgY3JlYXRlVGgoXCJuYW1lXCIsIHRhYmxlRGl2KTtcclxuLy8gICBjcmVhdGVUaChcInllYXJcIiwgdGFibGVEaXYpO1xyXG4vLyAgIGNyZWF0ZVRoKFwiYXZnTWFya1wiLCB0YWJsZURpdik7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY3JlYXRlVGgodGV4dDogc3RyaW5nLCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4vLyAgIGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuLy8gICB0aC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4vLyAgIHRoLnN0eWxlLm1hcmdpbiA9IFwiNTAlXCI7XHJcbi8vICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0aCk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gY3JlYXRlVGQodGV4dDogc3RyaW5nLCBUaGlsaVRkOiBIVE1MRWxlbWVudCkge1xyXG4vLyAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuLy8gICB0ZC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4vLyAgIHRkLnN0eWxlLm1hcmdpbiA9IFwiNTAlXCI7XHJcbi8vICAgVGhpbGlUZC5hcHBlbmRDaGlsZCh0ZCk7XHJcbi8vIH1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGNvdW50LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoc3RhcnQgPT09IHZvaWQgMCkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAoY291bnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY291bnQgPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgY3VycmVudCA9IHN0YXJ0O1xuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LCBjb3VudDogY291bnQsIHN0YXJ0OiBzdGFydCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4KysgPj0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGN1cnJlbnQrKyk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgc3RhcnQgPSBzdGF0ZS5zdGFydCwgaW5kZXggPSBzdGF0ZS5pbmRleCwgY291bnQgPSBzdGF0ZS5jb3VudCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgaWYgKGluZGV4ID49IGNvdW50KSB7XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdWJzY3JpYmVyLm5leHQoc3RhcnQpO1xuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHN0YXRlLnN0YXJ0ID0gc3RhcnQgKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFuZ2UuanMubWFwXG4iLCJleHBvcnQgY2xhc3MgVXNlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihJbmFtZSwgYWRkcmVzcywgaWRDYXJkKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gSW5hbWU7XHJcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcclxuICAgICAgICB0aGlzLmlkY2FyZCA9IGlkQ2FyZDtcclxuICAgIH1cclxuICAgIHNldCBuYW1lKHZyZWRub3N0KSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZyZWRub3N0O1xyXG4gICAgfVxyXG4gICAgZ2V0IG5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcbiAgICBzZXQgYWRkcmVzcyh2cmVkbm9zdCkge1xyXG4gICAgICAgIHRoaXMuX2FkZHJlc3MgPSB2cmVkbm9zdDtcclxuICAgIH1cclxuICAgIGdldCBhZGRyZXNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRyZXNzO1xyXG4gICAgfVxyXG4gICAgc2V0IGlkY2FyZCh2cmVkbm9zdCkge1xyXG4gICAgICAgIHRoaXMuX2lEQ2FyZCA9IHZyZWRub3N0O1xyXG4gICAgfVxyXG4gICAgZ2V0IGlkY2FyZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faURDYXJkO1xyXG4gICAgfVxyXG4gICAgY2hlY2tJbnB1dHMoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMubmFtZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuYWRkcmVzcyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaWRjYXJkID09PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==