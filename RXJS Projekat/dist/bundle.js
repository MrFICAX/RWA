/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t){return"function"==typeof t}var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout((function(){throw t}),0)}var s={closed:!0,next:function(t){},error:function(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete:function(){}},c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function u(t){return null!==t&&"object"==typeof t}var a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,i=r._parentOrParents,o=r._ctorUnsubscribe,s=r._unsubscribe,l=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(var d=0;d<i.length;++d)i[d].remove(this);if(n(s)){o&&(this._unsubscribe=void 0);try{s.call(this)}catch(t){e=t instanceof a?h(t.errors):[t]}}if(c(l)){d=-1;for(var p=l.length;++d<p;){var f=l[d];if(u(f))try{f.unsubscribe()}catch(t){e=e||[],t instanceof a?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}var d=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),p=function(t){function n(e,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(o)):(o.syncErrorThrowable=!0,o.destination=new f(o,e));break}default:o.syncErrorThrowable=!0,o.destination=new f(o,e,r,i)}return o}return e(n,t),n.prototype[d]=function(){return this},n.create=function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},n}(l),f=function(t){function r(e,r,i,o){var c,u=t.call(this)||this;u._parentSubscriber=e;var a=u;return n(r)?c=r:r&&(c=r.next,i=r.error,o=r.complete,r!==s&&(n((a=Object.create(r)).unsubscribe)&&u.add(a.unsubscribe.bind(a)),a.unsubscribe=u.unsubscribe.bind(u))),u._context=a,u._next=c,u._error=i,u._complete=o,u}return e(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=i.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw t;o(t)}},r.prototype.__tryOrSetError=function(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(o(e),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(p),b=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function y(t){return t}function v(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var m=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(s)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),i.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof p?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=g(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:v(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=g(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function g(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function w(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new _(t,e))}}var _=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.project,this.thisArg))},t}(),E=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return e(n,t),n.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(p);function x(t,e,r,i){return n(r)&&(i=r,r=void 0),i?x(t,e,r).pipe(w((function(t){return c(t)?i.apply(void 0,t):i(t)}))):new m((function(n){S(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}))}function S(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,i),o=function(){return s.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var c=t;t.on(e,n),o=function(){return c.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var a=0,l=t.length;a<l;a++)S(t[a],e,n,r,i)}r.add(o)}var T=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},n.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},n}(function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(l)),C=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),L=new(function(t){function n(e,r){void 0===r&&(r=C.now);var i=t.call(this,e,(function(){return n.delegate&&n.delegate!==i?n.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e(n,t),n.prototype.schedule=function(e,r,i){return void 0===r&&(r=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,r,i):t.prototype.schedule.call(this,e,r,i)},n.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(C))(T);function k(t,e){return void 0===e&&(e=L),function(n){return n.lift(new N(t,e))}}var N=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.dueTime,this.scheduler))},t}(),D=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return e(n,t),n.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(I,this.dueTime,this))},n.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},n.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},n.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},n}(p);function I(t){t.debouncedNext()}function j(t,e){return function(n){return n.lift(new A(t,e))}}var A=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new O(t,this.predicate,this.thisArg))},t}(),O=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return e(n,t),n.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},n}(p);class H{constructor(t,e,n){this.name=t,this.address=e,this.idcard=n}set name(t){this._name=t}get name(){return this._name}set address(t){this._address=t}get address(){return this._address}set idcard(t){this._iDCard=t}get idcard(){return this._iDCard}checkInputs(){return console.log(this),void 0!==this.name&&void 0!==this.address&&0!==this.idcard}}function P(t){return t&&"function"==typeof t.schedule}var M=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function V(t,e){return new m((function(n){var r=new l,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function B(t,e){return e?V(t,e):new m(M(t))}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return P(n)?(t.pop(),V(t,n)):B(t)}function z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var W=z(),R=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function $(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var F=function(t){if(t&&"function"==typeof t[b])return r=t,function(t){var e=r[b]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return M(t);if($(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o),t};if(t&&"function"==typeof t[W])return e=t,function(t){for(var n=e[W]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=u(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Y=function(t){function n(e){var n=t.call(this)||this;return n.parent=e,n}return e(n,t),n.prototype._next=function(t){this.parent.notifyNext(t)},n.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},n}(p),Z=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.notifyNext=function(t){this.destination.next(t)},n.prototype.notifyError=function(t){this.destination.error(t)},n.prototype.notifyComplete=function(){this.destination.complete()},n}(p);function q(t,e){if(!e.closed)return t instanceof m?t.subscribe(e):F(t)(e)}var G=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.resultSelector))},t}(),K=function(t){function n(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return e(n,t),n.prototype._next=function(t){var e=this.iterators;c(t)?e.push(new J(t)):"function"==typeof t[W]?e.push(new X(t[W]())):e.push(new Q(this.destination,this,t))},n.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++)if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<e;r++){var s,c=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),c.done)return void n.complete();o.push(c.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},n.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},n}(p),X=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),J=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[W]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Q=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return e(n,t),n.prototype[W]=function(){return this},n.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},n.prototype.hasValue=function(){return this.buffer.length>0},n.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},n.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},n.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},n.prototype.subscribe=function(){return q(this.observable,new Y(this))},n}(Z);function tt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[b]}(t))return function(t,e){return new m((function(n){var r=new l;return r.add(e.schedule((function(){var i=t[b]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if($(t))return function(t,e){return new m((function(n){var r=new l;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(R(t))return V(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m((function(n){var r,i=new l;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[W](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof m?t:new m(F(t))}function et(t,e){return"function"==typeof e?function(n){return n.pipe(et((function(n,r){return tt(t(n,r)).pipe(w((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new nt(t))}}var nt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.project))},t}(),rt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return e(n,t),n.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)},n.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Y(this),r=this.destination;r.add(n),this.innerSubscription=q(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},n.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},n.prototype._unsubscribe=function(){this.innerSubscription=void 0},n.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},n.prototype.notifyNext=function(t){this.destination.next(t)},n}(Z);const it="http://localhost:3000";var ot,st=0;class ct{constructor(t,e){this._imageList=[],this.container=e,this._imageList=new Array,this.SetAndStartUser(t)}set user(t){this._user=t}get user(){return this._user}set container(t){this._container=t}get container(){return this._container}set imageList(t){this._imageList=t}get imageList(){return this._imageList}draw(){this.createCarNameBox()}SetAndStartUser(t){this.user=t,this.obs$=U(new H(this.user.name,this.user.address,this.user.idcard))}zipInputs(){console.log("ZIP INPUTS FUNCTION"),void 0!==this.obs$&&void 0!==this.obs2$&&(console.log("ZIP VALIDATION APPROVED"),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),B(t,void 0).lift(new G(n))}(this.obs$,this.obs2$).subscribe((t=>{console.log(t),this.inputReservation(t)})))}inputReservation(t){let e=t[0],n=t[1];const r=document.body.getElementsByClassName("prikazRezervacija")[0];if(void 0===r)return;const i=this.createDiv(r);var o;this.WriteLabel("Korisnik:",i),this.WriteLabel(e.name,i),this.WriteLabel("Adresa:",i),this.WriteLabel(e.address,i),this.WriteLabel("Licna karta:",i),this.WriteLabel(e.idcard.toString(),i),this.WriteLabel("Vozac:",i),this.WriteLabel(n.name,i),this.WriteLabel("Automobil:",i),this.WriteLabel(n.car,i),this.WriteLabel("Prosecna ocena:",i),this.WriteLabel(n.avgMark.toString(),i);let s=Math.round(100*Math.random()%20+10),c=Math.round(100*Math.random()%s),u=0;var a,l,h;console.log("RangeLevel:"+s),console.log("randomNumber"+c),(a=10,l=s,void 0===a&&(a=0),new m((function(t){void 0===l&&(l=a,a=0);var e=0,n=a;for(h;;){if(e++>=l){t.complete();break}if(t.next(n++),t.closed)break}}))).pipe(w((t=>t*t))).subscribe((t=>{console.log("counter"+u),u++===c&&(console.log(t),o=t,console.log("Povratna vrd. je:"+o),this.WriteLabel("Cena:",i),this.WriteLabel((n.priceCoefficient*o).toString(),i))}))}createDiv(t){const e=document.createElement("div");return e.className="reservation",t.appendChild(e),e}WriteLabel(t,e){const n=document.createElement("label");n.innerHTML=t,n.style.margin="10px",e.appendChild(n)}createComboBox(t){var e,n=document.createElement("select");n.className="selekcija",t.appendChild(n),tt(fetch(`${it}/cars`).then((t=>{if(t.ok)return console.log(t),t.json();throw new Error("DB not found")})).catch((t=>console.log("Error"+t)))).subscribe((t=>{console.log(t),t.forEach((t=>{(e=document.createElement("option")).innerHTML=t,e.classList.add("opcija"),e.value=t,n.appendChild(e)}))})),x(n,"click").pipe(w((t=>t.target.value)),et((t=>this.getDriversByCar(t)))).subscribe((e=>{console.log(e),this.drivers=e,this.WriteDrivers(e),this.createImage(t)}))}createCarNameBox(){const t=document.createElement("div");t.className="TaxiLogic",this.container.appendChild(t);const e=document.createElement("label");e.innerHTML="Izaberite marku automobila koji zelite:",e.style.margin="10px",t.appendChild(e),this.createComboBox(t)}createImage(t){var e=this.container.getElementsByClassName("image")[0];void 0!==e&&e.remove();const n=document.createElement("img");st%=4,n.src="../"+this.imageList[st],console.log(this.imageList),n.className="image",t.appendChild(n),x(n,"click").pipe().subscribe((()=>{n.src="../"+this.imageList[++st%4]}))}getDriversByCar(t){return this.imageList=new Array,console.log(`fetching Car photos of ${t}`),fetch(`${it}/photos/`+t).then((t=>{if(!t.ok)throw new Error("DB not found");t.json().then((t=>t.forEach((t=>{this.imageList.push(t)}))))})).catch((t=>console.log("Error"+t))),tt(fetch(`${it}/drivers/`+t).then((t=>{if(t.ok)return t.json();throw new Error("DB not found")})).catch((t=>console.log("Error"+t))))}WriteDrivers(t){var e=this.container.getElementsByClassName("tabela")[0];void 0!==e&&e.remove();const n=document.createElement("table");n.className="tabela",n.style.border="1px solid black",this.container.appendChild(n),this.createTable(n),t.forEach((t=>{this.createTr(t,n)}))}createTr(t,e){const n=document.createElement("tr");e.appendChild(n),this.createTd(t.name,n),this.createTd(t.car.toString(),n),this.createTd(t.avgMark.toString(),n),this.createTd(t.priceCoefficient.toString(),n),this.createTdButton(t,"Selektuj ovog vozaca",n)}createTdButton(t,e,n){let r=document.createElement("td"),i=document.createElement("button");r.appendChild(i),i.innerHTML=e,r.style.margin="50%",i.className="dugmeUTabeli",n.appendChild(r),x(i,"click").pipe().subscribe((()=>{this.obs2$=U(t),console.log("OBS2 EMITTED, GOING INTO ZIPINPUTS"),this.zipInputs()}))}createTable(t){this.createTh("Ime",t),this.createTh("Vozilo",t),this.createTh("Prosecna ocena",t),this.createTh("Koeficijent po minutu",t),this.createTh("Dugme za selekciju",t)}createTh(t,e){let n=document.createElement("th");n.innerHTML=t,n.style.margin="50%",e.appendChild(n)}createTd(t,e){let n=document.createElement("td");n.innerHTML=t,n.style.margin="50%",e.appendChild(n)}createH2(t,e){const n=document.createElement("h2");n.innerHTML=t,e.appendChild(n)}}const ut=new H(void 0,void 0,0);function at(t,e){const n=document.createElement("h3");void 0===t||0===parseInt(t)?n.innerHTML="Niste uneli ovaj podatak":n.innerHTML=t,e.appendChild(n)}function lt(t,e){const n=document.createElement("h4");void 0===t||0===parseInt(t)?n.innerHTML="Niste uneli ovaj podatak":n.innerHTML=t,e.appendChild(n)}function ht(t){var e=document.body.getElementsByClassName("DataViewDiv")[0];null!=e&&e.remove();const n=document.createElement("div");n.className="DataViewDiv",t.appendChild(n),at("Vase ime:",n),lt(ut.name,n),at("Adresa na kojoj taksi dolazi po vas:",n),lt(ut.address,n),at("Broj licne karte:",n),lt(ut.idcard.toString(),n)}function dt(){if(void 0===document.getElementsByClassName("TaxiLogicDiv")[0]){var t=document.getElementsByClassName("prikazRezervacija")[0];if(void 0!==t){const e=document.createElement("div");e.className="TaxiLogicDiv",document.body.insertBefore(e,t),(ot=new ct(ut,e)).draw()}}else ot.SetAndStartUser(ut)}!function(){const t=document.createElement("div");t.className="DivHeader",document.body.appendChild(t),function(t,e){const n=document.createElement("h1");n.innerHTML="FICAX TAXI ONLINE",e.appendChild(n)}(0,t)}(),function(){const t=document.createElement("div");t.className="UserFormDiv",document.body.appendChild(t),function(t){const e=document.createElement("div");e.className="inputDiv",t.appendChild(e),function(t,e){const n=document.createElement("h2");n.innerHTML=t,e.appendChild(n)}("Unesite vase podatke:",e),function(t){const e=document.createElement("label");e.innerHTML="Unesite vase ime:",e.style.margin="10px",t.appendChild(e);const n=document.createElement("input");n.type="text",n.className="inputName",t.appendChild(n),x(n,"input").pipe(k(500),w((t=>t.target.value)),j((t=>t.length>=3))).subscribe((t=>{ut.name=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&ht(e),ut.checkInputs()&&dt()}))}(e),function(t){const e=document.createElement("label");e.innerHTML="Unesite adresu na koju dolazi taksi:",e.style.margin="10px",t.appendChild(e);const n=document.createElement("input");n.className="inputSurname",n.type="text",t.appendChild(n),x(n,"input").pipe(k(500),w((t=>t.target.value)),j((t=>t.length>=3))).subscribe((t=>{ut.address=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&ht(e),ut.checkInputs()&&dt()}))}(e),function(t){const e=document.createElement("label");e.innerHTML="Unesite broj licne karte:",e.style.margin="10px",t.appendChild(e);const n=document.createElement("input");n.type="number",n.className="inputID",n.id="input",t.appendChild(n),x(n,"input").pipe(k(500),w((t=>t.target.value)),j((t=>9==t.length)),w((t=>parseInt(t)))).subscribe((t=>{ut.idcard=t;var e=document.body.getElementsByClassName("UserFormDiv")[0];void 0!==e&&ht(e),ut.checkInputs()&&dt()}))}(e)}(t),ht(t)}(),function(){let t=document.createElement("div");t.className="prikazRezervacija",document.body.appendChild(t),at("Rezervacije:",t)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9jb25maWcuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvY2FuUmVwb3J0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNBY3Rpb24uanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2FzeW5jLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL3NyYy91c2VyLnRzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUby5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL2lubmVyU3Vic2NyaWJlLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcC5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovL2RvbWFjaTEvLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vZG9tYWNpMS8uL3NyYy90YXhpLWxvZ2ljLnRzIiwid2VicGFjazovL2RvbWFjaTEvLi9zcmMvZnJvbS50cyIsIndlYnBhY2s6Ly9kb21hY2kxLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9yYW5nZS5qcyJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiX19leHRlbmRzIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJpc0Z1bmN0aW9uIiwieCIsIl9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyIsImNvbmZpZyIsIlByb21pc2UiLCJ1bmRlZmluZWQiLCJ2YWx1ZSIsIkVycm9yIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlcnIiLCJzZXRUaW1lb3V0IiwiZW1wdHkiLCJjbG9zZWQiLCJuZXh0IiwiZXJyb3IiLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwiY29tcGxldGUiLCJpc0FycmF5IiwibGVuZ3RoIiwiaXNPYmplY3QiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiVW5zdWJzY3JpcHRpb25FcnJvckltcGwiLCJlcnJvcnMiLCJjYWxsIiwibWVzc2FnZSIsIm1hcCIsImkiLCJ0b1N0cmluZyIsImpvaW4iLCJuYW1lIiwiU3Vic2NyaXB0aW9uIiwidW5zdWJzY3JpYmUiLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfY3RvclVuc3Vic2NyaWJlIiwiX3Vuc3Vic2NyaWJlIiwiX2EiLCJyZW1vdmUiLCJpbmRleCIsImUiLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJsZW4iLCJzdWIiLCJjb25jYXQiLCJwdXNoIiwiYWRkIiwidGVhcmRvd24iLCJzdWJzY3JpcHRpb24iLCJFTVBUWSIsInRtcCIsImluZGV4T2YiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJzcGxpY2UiLCJyZWR1Y2UiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiU3ltYm9sIiwiTWF0aCIsInJhbmRvbSIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIl90aGlzIiwic3luY0Vycm9yVmFsdWUiLCJzeW5jRXJyb3JUaHJvd24iLCJzeW5jRXJyb3JUaHJvd2FibGUiLCJpc1N0b3BwZWQiLCJhcmd1bWVudHMiLCJkZXN0aW5hdGlvbiIsIlNhZmVTdWJzY3JpYmVyIiwic3Vic2NyaWJlciIsIl9uZXh0IiwiX2Vycm9yIiwiX2NvbXBsZXRlIiwiX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiYmluZCIsIl9jb250ZXh0IiwiX190cnlPclNldEVycm9yIiwiX190cnlPclVuc3ViIiwid3JhcHBlZENvbXBsZXRlIiwiZm4iLCJwYXJlbnQiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwiaW5wdXQiLCJwcmV2IiwiT2JzZXJ2YWJsZSIsInN1YnNjcmliZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwicHJvamVjdCIsInRoaXNBcmciLCJUeXBlRXJyb3IiLCJNYXBPcGVyYXRvciIsIk1hcFN1YnNjcmliZXIiLCJjb3VudCIsInJlc3VsdCIsImZyb21FdmVudCIsInRhcmdldCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJyZXN1bHRTZWxlY3RvciIsImFyZ3MiLCJhcHBseSIsInNldHVwU3Vic2NyaXB0aW9uIiwic2xpY2UiLCJzb3VyY2VPYmoiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJvbiIsIm9mZiIsImlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIiLCJzb3VyY2VfMiIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwiQXN5bmNBY3Rpb24iLCJzY2hlZHVsZXIiLCJ3b3JrIiwicGVuZGluZyIsInNjaGVkdWxlIiwic3RhdGUiLCJkZWxheSIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsInNldEludGVydmFsIiwiZmx1c2giLCJjbGVhckludGVydmFsIiwiZXhlY3V0ZSIsIl9leGVjdXRlIiwiZXJyb3JlZCIsImVycm9yVmFsdWUiLCJhY3Rpb25zIiwiQWN0aW9uIiwiU2NoZWR1bGVyIiwiU2NoZWR1bGVyQWN0aW9uIiwibm93IiwiRGF0ZSIsIkFzeW5jU2NoZWR1bGVyIiwiZGVsZWdhdGUiLCJhY3RpdmUiLCJzY2hlZHVsZWQiLCJhY3Rpb24iLCJzaGlmdCIsImRlYm91bmNlVGltZSIsImR1ZVRpbWUiLCJEZWJvdW5jZVRpbWVPcGVyYXRvciIsIkRlYm91bmNlVGltZVN1YnNjcmliZXIiLCJkZWJvdW5jZWRTdWJzY3JpcHRpb24iLCJsYXN0VmFsdWUiLCJoYXNWYWx1ZSIsImNsZWFyRGVib3VuY2UiLCJkaXNwYXRjaE5leHQiLCJkZWJvdW5jZWROZXh0IiwiZmlsdGVyIiwicHJlZGljYXRlIiwiRmlsdGVyT3BlcmF0b3IiLCJGaWx0ZXJTdWJzY3JpYmVyIiwiVXNlciIsIkluYW1lIiwiYWRkcmVzcyIsImlkQ2FyZCIsImlkY2FyZCIsInZyZWRub3N0IiwiX25hbWUiLCJfYWRkcmVzcyIsIl9pRENhcmQiLCJsb2ciLCJpc1NjaGVkdWxlciIsInN1YnNjcmliZVRvQXJyYXkiLCJhcnJheSIsInNjaGVkdWxlQXJyYXkiLCJmcm9tQXJyYXkiLCJvZiIsInBvcCIsImdldFN5bWJvbEl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsInRoZW4iLCJzdWJzY3JpYmVUbyIsIm9iaiIsIm9icyIsInByb21pc2UiLCJpdGVyYWJsZSIsIml0ZW0iLCJkb25lIiwicmV0dXJuIiwiU2ltcGxlSW5uZXJTdWJzY3JpYmVyIiwibm90aWZ5TmV4dCIsIm5vdGlmeUVycm9yIiwibm90aWZ5Q29tcGxldGUiLCJTaW1wbGVPdXRlclN1YnNjcmliZXIiLCJpbm5lclZhbHVlIiwiaW5uZXJTdWJzY3JpYmUiLCJpbm5lclN1YnNjcmliZXIiLCJaaXBPcGVyYXRvciIsIlppcFN1YnNjcmliZXIiLCJ2YWx1ZXMiLCJpdGVyYXRvcnMiLCJTdGF0aWNBcnJheUl0ZXJhdG9yIiwiU3RhdGljSXRlcmF0b3IiLCJaaXBCdWZmZXJJdGVyYXRvciIsInN0aWxsVW5zdWJzY3JpYmVkIiwibm90aWZ5SW5hY3RpdmUiLCJjaGVja0l0ZXJhdG9ycyIsInNob3VsZENvbXBsZXRlIiwiaGFzQ29tcGxldGVkIiwiX3RyeXJlc3VsdFNlbGVjdG9yIiwibmV4dFJlc3VsdCIsIkJvb2xlYW4iLCJidWZmZXIiLCJpc0NvbXBsZXRlIiwiaXNJbnRlcm9wT2JzZXJ2YWJsZSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsInNjaGVkdWxlUHJvbWlzZSIsImlzSXRlcmFibGUiLCJzY2hlZHVsZUl0ZXJhYmxlIiwic3dpdGNoTWFwIiwiYSIsImlpIiwiU3dpdGNoTWFwT3BlcmF0b3IiLCJTd2l0Y2hNYXBTdWJzY3JpYmVyIiwiX2lubmVyU3ViIiwiaW5uZXJTdWJzY3JpcHRpb24iLCJBUElfVVJMIiwidGF4aWxvZ2ljIiwiY291bnRlciIsIlRheGlMb2dpYyIsInRtcFVzZXIiLCJjb250YWluZXIiLCJfaW1hZ2VMaXN0IiwiU2V0QW5kU3RhcnRVc2VyIiwiX3VzZXIiLCJfY29udGFpbmVyIiwiY3JlYXRlQ2FyTmFtZUJveCIsIm5ld1VzZXIiLCJ1c2VyIiwib2JzJCIsIm9iczIkIiwib2JzZXJ2YWJsZXMiLCJ6aXAiLCJ2YWwiLCJpbnB1dFJlc2VydmF0aW9uIiwibGlzdE9mT2JqZWN0cyIsImRyaXZlciIsImVsZW1lbnQiLCJkb2N1bWVudCIsImJvZHkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZGl2RWxlbWVudCIsImNyZWF0ZURpdiIsImNlbmEiLCJXcml0ZUxhYmVsIiwiY2FyIiwiYXZnTWFyayIsInJhbmdlTGV2ZWwiLCJyb3VuZCIsInJhbmRvbU51bWJlciIsInN0YXJ0IiwiY3VycmVudCIsInByaWNlQ29lZmZpY2llbnQiLCJwYXJlbnREaXYiLCJpbnB1dERpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJhcHBlbmRDaGlsZCIsInBhcmFtcyIsImxhYmVsIiwiaW5uZXJIVE1MIiwic3R5bGUiLCJtYXJnaW4iLCJwYXJlbnRFbGVtZW50Iiwib3BjaWphIiwiY2J4IiwiZmV0Y2giLCJyZXNwb25zZSIsIm9rIiwianNvbiIsImNhdGNoIiwiY2xhc3NMaXN0IiwiZXYiLCJzZWxlY3RlZCIsImdldERyaXZlcnNCeUNhciIsImRyaXZlckFycmF5IiwiZHJpdmVycyIsIldyaXRlRHJpdmVycyIsImNyZWF0ZUltYWdlIiwiY3JlYXRlQ29tYm9Cb3giLCJpbWFnZSIsInNyYyIsImltYWdlTGlzdCIsImNhck5hbWUiLCJ0YWJsZURpdiIsImJvcmRlciIsImNyZWF0ZVRhYmxlIiwiY3JlYXRlVHIiLCJ0ciIsImNyZWF0ZVRkIiwiY3JlYXRlVGRCdXR0b24iLCJhcmcwIiwidGQiLCJidG4iLCJ6aXBJbnB1dHMiLCJjcmVhdGVUaCIsInRleHQiLCJ0aCIsIlRoaWxpVGQiLCJoZWFkZXIiLCJjcmVhdGVIMyIsImhlYWRlcjFFbGVtZW50IiwicGFyc2VJbnQiLCJjcmVhdGVINCIsImNyZWF0ZVVzZXJEYXRhVmlldyIsIlVzZXJGb3JtRGl2IiwiY3JlYXRlVGF4aUxvZ2ljIiwicHJpa2F6UmV6ZXJ2YWNpamEiLCJUYXhpTG9naWNEaXYiLCJpbnNlcnRCZWZvcmUiLCJkcmF3IiwiZGl2SGVhZGVyIiwiY3JlYXRlSDEiLCJjcmVhdGVIZWFkZXIiLCJjcmVhdGVIMiIsInR5cGUiLCJjaGVja0lucHV0cyIsImNyZWF0ZU5hbWVCb3giLCJzdXJuYW1lIiwiY3JlYXRlU3VyTmFtZUJveCIsImVsIiwiY3JlYXRlSURDYXJkQm94IiwiY3JlYXRlSW5wdXREaXYiLCJjcmVhdGVVc2VyRm9ybSIsImNyZWF0ZVJlc2VydmF0aW9ucyJdLCJtYXBwaW5ncyI6IjttQkFnQkEsSUFBSUEsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJNUIsT0FIQUYsRUFBZ0JHLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILElBQ3ZFLFNBQVVELEVBQUdDLEdBQUssSUFBSyxJQUFJSyxLQUFLTCxFQUFPQSxFQUFFTSxlQUFlRCxLQUFJTixFQUFFTSxHQUFLTCxFQUFFSyxNQUNwRE4sRUFBR0MsSUFHckIsU0FBU08sRUFBVVIsRUFBR0MsR0FFekIsU0FBU1EsSUFBT0MsS0FBS0MsWUFBY1gsRUFEbkNELEVBQWNDLEVBQUdDLEdBRWpCRCxFQUFFWSxVQUFrQixPQUFOWCxFQUFhQyxPQUFPVyxPQUFPWixJQUFNUSxFQUFHRyxVQUFZWCxFQUFFVyxVQUFXLElBQUlILEdDekI1RSxTQUFTSyxFQUFXQyxHQUN2QixNQUFvQixtQkFBTkEsRUNEbEIsSUFBSUMsR0FBc0QsRUFDL0NDLEVBQVMsQ0FDaEJDLGFBQVNDLEVBQ1QsMENBQTBDQyxHQUNsQ0EsSUFDMEIs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QUc1TCxPQUFPeEgsUUFBUXFMLEdBQVF1SixHQUF3QixHQUFmQSxFQUFLL1QsU0FBY08sR0FBSWdWLEdBQU1sQixTQUFTa0IsTUFPN0c1USxXQUFXNkQsSUFHWm1ILEdBQUszRSxPQUFTeEMsRUFDZCxJQUFJMUosRUFBSXVSLFNBQVNDLEtBQUtDLHVCQUF1QixlQUFlLFFBQ2xEclIsSUFBTkosR0FDQXlWLEdBQW1CelYsR0FDbkI2USxHQUFLd0YsZUFDTFYsUUExRVJlLENBQWdCbkUsR0FwQ2hCb0UsQ0FBZWpCLEdBQ2ZELEdBQW1CQyxHQXZDdkJrQixHQTZRQSxXQUNJLElBQUloQixFQUFvQnJFLFNBQVNpQixjQUFjLE9BQy9Db0QsRUFBa0JuRCxVQUFZLG9CQUM5QmxCLFNBQVNDLEtBQUtrQixZQUFZa0QsR0FDMUJQLEdBQVMsZUFBZ0JPLEdBaFI3QmlCLEkiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNPYmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVW5zdWJzY3JpcHRpb25FcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fY3RvclVuc3Vic2NyaWJlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVycm9ycztcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgX3BhcmVudE9yUGFyZW50cyA9IF9hLl9wYXJlbnRPclBhcmVudHMsIF9jdG9yVW5zdWJzY3JpYmUgPSBfYS5fY3RvclVuc3Vic2NyaWJlLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgaWYgKF9jdG9yVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gW19wYXJlbnRPclBhcmVudHMsIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG52YXIgdG9TdHJpbmcgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOyB9KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzEgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8yID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmoub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMi5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzMgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8zLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZU9iaiAmJiBzb3VyY2VPYmoubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VPYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9ialtpXSwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5hZGQodW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLm9mZiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xudmFyIEFjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBY3Rpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9BY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbnZhciBBc3luY0FjdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY0FjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIGlkLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRJbnRlcnZhbChzY2hlZHVsZXIuZmx1c2guYmluZChzY2hlZHVsZXIsIHRoaXMpLCBkZWxheSk7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSAhIWUgJiYgZSB8fCBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgIHZhciBpbmRleCA9IGFjdGlvbnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgdGhpcy53b3JrID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XG59KEFjdGlvbikpO1xuZXhwb3J0IHsgQXN5bmNBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcFxuIiwidmFyIFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuU2NoZWR1bGVyQWN0aW9uID0gU2NoZWR1bGVyQWN0aW9uO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IHRoaXMuU2NoZWR1bGVyQWN0aW9uKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQXN5bmNBY3Rpb24sX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzeW5jLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xudmFyIEFzeW5jU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFzeW5jU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KSB7XG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbm93ID0gU2NoZWR1bGVyLm5vdztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAmJiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZSAhPT0gX3RoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUubm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUuc2NoZWR1bGUod29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnNjaGVkdWxlLmNhbGwodGhpcywgd29yaywgZGVsYXksIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyLF9zY2hlZHVsZXJfYXN5bmMgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzeW5jIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWUoZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikpOyB9O1xufVxudmFyIERlYm91bmNlVGltZU9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZU9wZXJhdG9yKGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB0aGlzLmR1ZVRpbWUgPSBkdWVUaW1lO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgRGVib3VuY2VUaW1lT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMuZHVlVGltZSwgdGhpcy5zY2hlZHVsZXIpKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJvdW5jZVRpbWVPcGVyYXRvcjtcbn0oKSk7XG52YXIgRGVib3VuY2VUaW1lU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlYm91bmNlVGltZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGR1ZVRpbWUsIHNjaGVkdWxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZHVlVGltZSA9IGR1ZVRpbWU7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGFzdFZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWJvdW5jZVRpbWVTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmNsZWFyRGVib3VuY2UoKTtcbiAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuZGVib3VuY2VkU3Vic2NyaXB0aW9uID0gdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCB0aGlzLmR1ZVRpbWUsIHRoaXMpKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZWJvdW5jZWROZXh0KCk7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmRlYm91bmNlZE5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJEZWJvdW5jZSgpO1xuICAgICAgICBpZiAodGhpcy5oYXNWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRoaXMubGFzdFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KGxhc3RWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYm91bmNlVGltZVN1YnNjcmliZXIucHJvdG90eXBlLmNsZWFyRGVib3VuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWJvdW5jZWRTdWJzY3JpcHRpb24gPSB0aGlzLmRlYm91bmNlZFN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKGRlYm91bmNlZFN1YnNjcmlwdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZGVib3VuY2VkU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGRlYm91bmNlZFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZWRTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVib3VuY2VUaW1lU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KHN1YnNjcmliZXIpIHtcbiAgICBzdWJzY3JpYmVyLmRlYm91bmNlZE5leHQoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlck9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBGaWx0ZXJPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJPcGVyYXRvcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIEZpbHRlck9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgRmlsdGVyU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByZWRpY2F0ZSwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyT3BlcmF0b3I7XG59KCkpO1xudmFyIEZpbHRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoRmlsdGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBGaWx0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcmVkaWNhdGUuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRmlsdGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcFxuIiwiZXhwb3J0IGNsYXNzIFVzZXIge1xyXG4gICAgY29uc3RydWN0b3IoSW5hbWUsIGFkZHJlc3MsIGlkQ2FyZCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IEluYW1lO1xyXG4gICAgICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XHJcbiAgICAgICAgdGhpcy5pZGNhcmQgPSBpZENhcmQ7XHJcbiAgICB9XHJcbiAgICBzZXQgbmFtZSh2cmVkbm9zdCkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSB2cmVkbm9zdDtcclxuICAgIH1cclxuICAgIGdldCBuYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG4gICAgc2V0IGFkZHJlc3ModnJlZG5vc3QpIHtcclxuICAgICAgICB0aGlzLl9hZGRyZXNzID0gdnJlZG5vc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgYWRkcmVzcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkcmVzcztcclxuICAgIH1cclxuICAgIHNldCBpZGNhcmQodnJlZG5vc3QpIHtcclxuICAgICAgICB0aGlzLl9pRENhcmQgPSB2cmVkbm9zdDtcclxuICAgIH1cclxuICAgIGdldCBpZGNhcmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lEQ2FyZDtcclxuICAgIH1cclxuICAgIGNoZWNrSW5wdXRzKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLm5hbWUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmFkZHJlc3MgPT09IHVuZGVmaW5lZCB8fCB0aGlzLmlkY2FyZCA9PT0gMClcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9BcnJheSA9IGZ1bmN0aW9uIChhcnJheSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHRoaXMuc2NoZWR1bGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zdWJzY3JpYmVUb0FycmF5LF9zdWJzY3JpYmVUb1Byb21pc2UsX3N1YnNjcmliZVRvSXRlcmFibGUsX3N1YnNjcmliZVRvT2JzZXJ2YWJsZSxfaXNBcnJheUxpa2UsX2lzUHJvbWlzZSxfaXNPYmplY3QsX3N5bWJvbF9pdGVyYXRvcixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BcnJheSB9IGZyb20gJy4vc3Vic2NyaWJlVG9BcnJheSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Byb21pc2UgfSBmcm9tICcuL3N1YnNjcmliZVRvUHJvbWlzZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0l0ZXJhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb0l0ZXJhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvT2JzZXJ2YWJsZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4vaXNPYmplY3QnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9vYnNlcnZhYmxlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9PYnNlcnZhYmxlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvQXJyYXkocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUHJvbWlzZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmICghIXJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvSXRlcmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0KHJlc3VsdCkgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyByZXN1bHQgKyBcIidcIjtcbiAgICAgICAgdmFyIG1zZyA9IFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCJcbiAgICAgICAgICAgICsgJyBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgQXJyYXksIG9yIEl0ZXJhYmxlLic7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG8uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGl0ZW0udmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi91dGlsL3N1YnNjcmliZVRvJztcbnZhciBTaW1wbGVJbm5lclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbXBsZUlubmVyU3Vic2NyaWJlcihwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTaW1wbGVJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvcik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFNpbXBsZUlubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlSW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTaW1wbGVJbm5lclN1YnNjcmliZXIgfTtcbnZhciBDb21wbGV4SW5uZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbXBsZXhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGxleElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5vdXRlclZhbHVlID0gb3V0ZXJWYWx1ZTtcbiAgICAgICAgX3RoaXMub3V0ZXJJbmRleCA9IG91dGVySW5kZXg7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMpO1xuICAgIH07XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgQ29tcGxleElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBsZXhJbm5lclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IENvbXBsZXhJbm5lclN1YnNjcmliZXIgfTtcbnZhciBTaW1wbGVPdXRlclN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNpbXBsZU91dGVyU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgfTtcbiAgICBTaW1wbGVPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTaW1wbGVPdXRlclN1YnNjcmliZXIgfTtcbnZhciBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbXBsZXhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tcGxleE91dGVyU3Vic2NyaWJlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKF9vdXRlclZhbHVlLCBpbm5lclZhbHVlLCBfb3V0ZXJJbmRleCwgX2lubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIENvbXBsZXhPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgQ29tcGxleE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoX2lubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21wbGV4T3V0ZXJTdWJzY3JpYmVyIH07XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpIHtcbiAgICBpZiAoaW5uZXJTdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0LnN1YnNjcmliZShpbm5lclN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShpbm5lclN1YnNjcmliZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5uZXJTdWJzY3JpYmUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9mcm9tQXJyYXksX3V0aWxfaXNBcnJheSxfU3Vic2NyaWJlcixfLi5faW50ZXJuYWxfc3ltYm9sX2l0ZXJhdG9yLF9pbm5lclN1YnNjcmliZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgU2ltcGxlT3V0ZXJTdWJzY3JpYmVyLCBTaW1wbGVJbm5lclN1YnNjcmliZXIsIGlubmVyU3Vic2NyaWJlIH0gZnJvbSAnLi4vaW5uZXJTdWJzY3JpYmUnO1xuZXhwb3J0IGZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0U2VsZWN0b3IgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCB1bmRlZmluZWQpLmxpZnQobmV3IFppcE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgWmlwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWmlwT3BlcmF0b3IocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICBaaXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFppcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5yZXN1bHRTZWxlY3RvcikpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IFppcE9wZXJhdG9yIH07XG52YXIgWmlwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhaaXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFppcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5pdGVyYXRvcnMgPSBbXTtcbiAgICAgICAgX3RoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgX3RoaXMucmVzdWx0U2VsZWN0b3IgPSAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSA/IHJlc3VsdFNlbGVjdG9yIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSB0aGlzLml0ZXJhdG9ycztcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgU3RhdGljQXJyYXlJdGVyYXRvcih2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVtTeW1ib2xfaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgU3RhdGljSXRlcmF0b3IodmFsdWVbU3ltYm9sX2l0ZXJhdG9yXSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcnMucHVzaChuZXcgWmlwQnVmZmVySXRlcmF0b3IodGhpcy5kZXN0aW5hdGlvbiwgdGhpcywgdmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIHZhciBsZW4gPSBpdGVyYXRvcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnN0aWxsVW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaXRlcmF0b3Iuc3Vic2NyaWJlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5SW5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5jaGVja0l0ZXJhdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICB2YXIgbGVuID0gaXRlcmF0b3JzLmxlbmd0aDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci5oYXNWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXRlcmF0b3IuaGFzVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hvdWxkQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvci5oYXNDb21wbGV0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHNob3VsZENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeXJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlyZXN1bHRTZWxlY3RvciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBaaXBTdWJzY3JpYmVyIH07XG52YXIgU3RhdGljSXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgICB0aGlzLm5leHRSZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgfVxuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubmV4dFJlc3VsdDtcbiAgICAgICAgdGhpcy5uZXh0UmVzdWx0ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dFJlc3VsdCA9IHRoaXMubmV4dFJlc3VsdDtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4obmV4dFJlc3VsdCAmJiBuZXh0UmVzdWx0LmRvbmUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRpY0l0ZXJhdG9yO1xufSgpKTtcbnZhciBTdGF0aWNBcnJheUl0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0FycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB9XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sX2l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICAgICAgICByZXR1cm4gaSA8IHRoaXMubGVuZ3RoID8geyB2YWx1ZTogYXJyYXlbaV0sIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiBudWxsLCBkb25lOiB0cnVlIH07XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RoID4gdGhpcy5pbmRleDtcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RoID09PSB0aGlzLmluZGV4O1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRpY0FycmF5SXRlcmF0b3I7XG59KCkpO1xudmFyIFppcEJ1ZmZlckl0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFppcEJ1ZmZlckl0ZXJhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFppcEJ1ZmZlckl0ZXJhdG9yKGRlc3RpbmF0aW9uLCBwYXJlbnQsIG9ic2VydmFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZSA9IG9ic2VydmFibGU7XG4gICAgICAgIF90aGlzLnN0aWxsVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sX2l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBudWxsLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogYnVmZmVyLnNoaWZ0KCksIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoID09PSAwICYmIHRoaXMuaXNDb21wbGV0ZTtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlJbmFjdGl2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goaW5uZXJWYWx1ZSk7XG4gICAgICAgIHRoaXMucGFyZW50LmNoZWNrSXRlcmF0b3JzKCk7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gaW5uZXJTdWJzY3JpYmUodGhpcy5vYnNlcnZhYmxlLCBuZXcgU2ltcGxlSW5uZXJTdWJzY3JpYmVyKHRoaXMpKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBCdWZmZXJJdGVyYXRvcjtcbn0oU2ltcGxlT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD16aXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvLF9zY2hlZHVsZWRfc2NoZWR1bGVkIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zY2hlZHVsZU9ic2VydmFibGUsX3NjaGVkdWxlUHJvbWlzZSxfc2NoZWR1bGVBcnJheSxfc2NoZWR1bGVJdGVyYWJsZSxfdXRpbF9pc0ludGVyb3BPYnNlcnZhYmxlLF91dGlsX2lzUHJvbWlzZSxfdXRpbF9pc0FycmF5TGlrZSxfdXRpbF9pc0l0ZXJhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IHNjaGVkdWxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vc2NoZWR1bGVPYnNlcnZhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlUHJvbWlzZSB9IGZyb20gJy4vc2NoZWR1bGVQcm9taXNlJztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuL3NjaGVkdWxlQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc0ludGVyb3BPYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZShpbnB1dCkgfHwgdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0IHx8IGlucHV0KSArICcgaXMgbm90IG9ic2VydmFibGUnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlZC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgICAgIHN1Yi5hZGQob2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7IH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIHN1Yi5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGl0ZXJhdG9yICYmIHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZG9uZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHJlc3VsdC5kb25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBzdWI7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfbWFwLF9vYnNlcnZhYmxlX2Zyb20sX2lubmVyU3Vic2NyaWJlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmltcG9ydCB7IFNpbXBsZU91dGVyU3Vic2NyaWJlciwgU2ltcGxlSW5uZXJTdWJzY3JpYmVyLCBpbm5lclN1YnNjcmliZSB9IGZyb20gJy4uL2lubmVyU3Vic2NyaWJlJztcbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSkpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IFN3aXRjaE1hcE9wZXJhdG9yKHByb2plY3QpKTsgfTtcbn1cbnZhciBTd2l0Y2hNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTd2l0Y2hNYXBPcGVyYXRvcihwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgfVxuICAgIFN3aXRjaE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU3dpdGNoTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hNYXBPcGVyYXRvcjtcbn0oKSk7XG52YXIgU3dpdGNoTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTd2l0Y2hNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN3aXRjaE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbm5lclN1YihyZXN1bHQpO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpcHRpb24gPSB0aGlzLmlubmVyU3Vic2NyaXB0aW9uO1xuICAgICAgICBpZiAoaW5uZXJTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlubmVyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBTaW1wbGVJbm5lclN1YnNjcmliZXIodGhpcyk7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZChpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gaW5uZXJTdWJzY3JpYmUocmVzdWx0LCBpbm5lclN1YnNjcmliZXIpO1xuICAgICAgICBpZiAodGhpcy5pbm5lclN1YnNjcmlwdGlvbiAhPT0gaW5uZXJTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5hZGQodGhpcy5pbm5lclN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN3aXRjaE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaXB0aW9uID0gdGhpcy5pbm5lclN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKCFpbm5lclN1YnNjcmlwdGlvbiB8fCBpbm5lclN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlubmVyU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJTdWJzY3JpcHRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3dpdGNoTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBTd2l0Y2hNYXBTdWJzY3JpYmVyO1xufShTaW1wbGVPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXBcbiIsImltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi91c2VyXCI7XHJcbmltcG9ydCB7IGZyb20sIGZyb21FdmVudCwgb2YsIHJhbmdlLCB6aXAgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBtYXAsIHN3aXRjaE1hcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xyXG5jb25zdCBBUElfVVJMID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIjtcclxudmFyIGNvdW50ZXIgPSAwO1xyXG5leHBvcnQgY2xhc3MgVGF4aUxvZ2ljIHtcclxuICAgIGNvbnN0cnVjdG9yKHRtcFVzZXIsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlTGlzdCA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMuU2V0QW5kU3RhcnRVc2VyKHRtcFVzZXIpO1xyXG4gICAgfVxyXG4gICAgc2V0IHVzZXIodnJlZG5vc3QpIHtcclxuICAgICAgICB0aGlzLl91c2VyID0gdnJlZG5vc3Q7XHJcbiAgICB9XHJcbiAgICBnZXQgdXNlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlcjtcclxuICAgIH1cclxuICAgIHNldCBjb250YWluZXIodnJlZG5vc3QpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSB2cmVkbm9zdDtcclxuICAgIH1cclxuICAgIGdldCBjb250YWluZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIHNldCBpbWFnZUxpc3QodnJlZG5vc3QpIHtcclxuICAgICAgICB0aGlzLl9pbWFnZUxpc3QgPSB2cmVkbm9zdDtcclxuICAgIH1cclxuICAgIGdldCBpbWFnZUxpc3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlTGlzdDtcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDYXJOYW1lQm94KCk7XHJcbiAgICB9XHJcbiAgICAvLyAgICAgIGdldFN0dWRlbnRzQnlNYXJrKG1hcms6IHN0cmluZyk6IE9ic2VydmFibGU8RHJpdmVyW10+IHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhgZmV0Y2hpbmcgbW92aWUgd2l0aCBhIG1hcmsgJHttYXJrfWApO1xyXG4gICAgLy8gICAgIHJldHVybiBmcm9tKFxyXG4gICAgLy8gICAgICAgZmV0Y2goYCR7QVBJX1VSTH0vc3R1ZGVudHMvYCkgLy8/dGl0bGU9JHttYXJrfWBgKVxyXG4gICAgLy8gICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIC8vICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiByZXNwb25zZVxyXG4gICAgLy8gICAgICAgICAgICAgICAuanNvbigpXHJcbiAgICAvLyAgICAgICAgICAgICAgIC50aGVuKChwKSA9PlxyXG4gICAgLy8gICAgICAgICAgICAgICAgIHAuZmlsdGVyKFxyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgKHE6IHsgYXZnTWFyazogbnVtYmVyIH0pID0+IHEuYXZnTWFyayA+PSBwYXJzZUZsb2F0KG1hcmspXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgKVxyXG4gICAgLy8gICAgICAgICAgICAgICApO1xyXG4gICAgLy8gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBhaW4ndCBva1wiKTtcclxuICAgIC8vICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKVxyXG4gICAgLy8gICAgICk7XHJcbiAgICAvLyAgIH1cclxuICAgIFNldEFuZFN0YXJ0VXNlcihuZXdVc2VyKSB7XHJcbiAgICAgICAgdGhpcy51c2VyID0gbmV3VXNlcjtcclxuICAgICAgICB0aGlzLm9icyQgPSBvZihuZXcgVXNlcih0aGlzLnVzZXIubmFtZSwgdGhpcy51c2VyLmFkZHJlc3MsIHRoaXMudXNlci5pZGNhcmQpKTtcclxuICAgIH1cclxuICAgIHppcElucHV0cygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlpJUCBJTlBVVFMgRlVOQ1RJT05cIik7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzJCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzMiQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiWklQIFZBTElEQVRJT04gQVBQUk9WRURcIik7XHJcbiAgICAgICAgY29uc3QgZXhhbXBsZSA9IHppcCh0aGlzLm9icyQsIHRoaXMub2JzMiQpO1xyXG4gICAgICAgIGNvbnN0IHN1YnNjcmliZSA9IGV4YW1wbGUuc3Vic2NyaWJlKHZhbCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRSZXNlcnZhdGlvbih2YWwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaW5wdXRSZXNlcnZhdGlvbihsaXN0T2ZPYmplY3RzKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coKGxpc3RPZk9iamVjdHMpKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YobGlzdE9mT2JqZWN0c1swXSBhcyBEcml2ZXIpKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YobGlzdE9mT2JqZWN0c1sxXSBhcyBVc2VyKSk7XHJcbiAgICAgICAgbGV0IHVzZXIgPSBsaXN0T2ZPYmplY3RzWzBdO1xyXG4gICAgICAgIGxldCBkcml2ZXIgPSBsaXN0T2ZPYmplY3RzWzFdO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwcmlrYXpSZXplcnZhY2lqYVwiKVswXTtcclxuICAgICAgICBpZiAoZWxlbWVudCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IHRoaXMuY3JlYXRlRGl2KGVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChcIktvcmlzbmlrOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwodXNlci5uYW1lLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwoXCJBZHJlc2E6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbCh1c2VyLmFkZHJlc3MsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChcIkxpY25hIGthcnRhOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwodXNlci5pZGNhcmQudG9TdHJpbmcoKSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiVm96YWM6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChkcml2ZXIubmFtZSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiQXV0b21vYmlsOlwiLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB0aGlzLldyaXRlTGFiZWwoZHJpdmVyLmNhciwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiUHJvc2VjbmEgb2NlbmE6XCIsIGRpdkVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVMYWJlbChkcml2ZXIuYXZnTWFyay50b1N0cmluZygpLCBkaXZFbGVtZW50KTtcclxuICAgICAgICB2YXIgY2VuYTtcclxuICAgICAgICBsZXQgcmFuZ2VMZXZlbCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMCAlIDIwICsgMTApO1xyXG4gICAgICAgIGxldCByYW5kb21OdW1iZXIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAgJSByYW5nZUxldmVsKTtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJSYW5nZUxldmVsOlwiICsgcmFuZ2VMZXZlbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyYW5kb21OdW1iZXJcIiArIHJhbmRvbU51bWJlcik7XHJcbiAgICAgICAgcmFuZ2UoMTAsIHJhbmdlTGV2ZWwpXHJcbiAgICAgICAgICAgIC5waXBlKG1hcCgoeCkgPT4geCAqIHgpKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCh4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bnRlclwiICsgY291bnRlcik7XHJcbiAgICAgICAgICAgIGlmIChjb3VudGVyKysgPT09IHJhbmRvbU51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coeCk7XHJcbiAgICAgICAgICAgICAgICBjZW5hID0geDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUG92cmF0bmEgdnJkLiBqZTpcIiArIGNlbmEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Xcml0ZUxhYmVsKFwiQ2VuYTpcIiwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLldyaXRlTGFiZWwoKGRyaXZlci5wcmljZUNvZWZmaWNpZW50ICogY2VuYSkudG9TdHJpbmcoKSwgZGl2RWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZURpdihwYXJlbnREaXYpIHtcclxuICAgICAgICBjb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgaW5wdXREaXYuY2xhc3NOYW1lID0gXCJyZXNlcnZhdGlvblwiO1xyXG4gICAgICAgIHBhcmVudERpdi5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0RGl2O1xyXG4gICAgfVxyXG4gICAgV3JpdGVMYWJlbChwYXJhbXMsIGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSBwYXJhbXM7XHJcbiAgICAgICAgbGFiZWwuc3R5bGUubWFyZ2luID0gXCIxMHB4XCI7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVDb21ib0JveChwYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIG9wY2lqYTtcclxuICAgICAgICB2YXIgY2J4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcclxuICAgICAgICBjYnguY2xhc3NOYW1lID0gXCJzZWxla2NpamFcIjtcclxuICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGNieCk7XHJcbiAgICAgICAgZnJvbShmZXRjaChgJHtBUElfVVJMfS9jYXJzYCkgLy8/dGl0bGU9JHttYXJrfWBgKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiREIgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKFwiRXJyb3JcIiArIGVycikpKS5zdWJzY3JpYmUoKGNhcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXIpO1xyXG4gICAgICAgICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4gICAgICAgICAgICBjYXIuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIG9wY2lqYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgICBvcGNpamEuaW5uZXJIVE1MID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIG9wY2lqYS5jbGFzc0xpc3QuYWRkKFwib3BjaWphXCIpO1xyXG4gICAgICAgICAgICAgICAgb3BjaWphLnZhbHVlID0gZWxlbWVudDtcclxuICAgICAgICAgICAgICAgIGNieC5hcHBlbmRDaGlsZChvcGNpamEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmcm9tRXZlbnQoY2J4LCBcImNsaWNrXCIpXHJcbiAgICAgICAgICAgIC5waXBlKG1hcCgoZXYpID0+IGV2LnRhcmdldC52YWx1ZSksIHN3aXRjaE1hcCgoc2VsZWN0ZWQpID0+IHRoaXMuZ2V0RHJpdmVyc0J5Q2FyKHNlbGVjdGVkKSkpXHJcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGRyaXZlckFycmF5KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRyaXZlckFycmF5KTtcclxuICAgICAgICAgICAgdGhpcy5kcml2ZXJzID0gZHJpdmVyQXJyYXk7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVEcml2ZXJzKGRyaXZlckFycmF5KTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVJbWFnZShwYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUNhck5hbWVCb3goKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGlucHV0RGl2LmNsYXNzTmFtZSA9IFwiVGF4aUxvZ2ljXCI7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXREaXYpO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IFwiSXphYmVyaXRlIG1hcmt1IGF1dG9tb2JpbGEga29qaSB6ZWxpdGU6XCI7XHJcbiAgICAgICAgbGFiZWwuc3R5bGUubWFyZ2luID0gXCIxMHB4XCI7XHJcbiAgICAgICAgaW5wdXREaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29tYm9Cb3goaW5wdXREaXYpO1xyXG4gICAgICAgIC8vIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIC8vIGlucHV0LnR5cGUgPSBcInRleHRcIjtcclxuICAgICAgICAvLyBpbnB1dC5jbGFzc05hbWUgPSBcImlucHV0XCI7XHJcbiAgICAgICAgLy8gaW5wdXQuaWQgPSBcImlucHV0XCI7XHJcbiAgICAgICAgLy8gaW5wdXREaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgICAgIC8vIGZyb21FdmVudChpbnB1dCwgXCJpbnB1dFwiKVxyXG4gICAgICAgIC8vIC5waXBlKFxyXG4gICAgICAgIC8vICAgICBkZWJvdW5jZVRpbWUoNTAwKSxcclxuICAgICAgICAvLyAgICAgbWFwKChldjogSW5wdXRFdmVudCkgPT4gKDxIVE1MSW5wdXRFbGVtZW50PmV2LnRhcmdldCkudmFsdWUpLFxyXG4gICAgICAgIC8vICAgICBmaWx0ZXIoKHRleHQpID0+IHRleHQubGVuZ3RoID49IDQpLFxyXG4gICAgICAgIC8vICAgICBzd2l0Y2hNYXAoXHJcbiAgICAgICAgLy8gICAgIChzdHVkZW50KSA9PiB0aGlzLmdldERyaXZlcnNCeUNhcihzdHVkZW50KSAvLy5waXBlKFxyXG4gICAgICAgIC8vICAgICAvL21hcChzdHVkZW50cyA9PiBzdHVkZW50cy5maWx0ZXIocCA9PiBwLmF2Z01hcmsgPiA5KSlcclxuICAgICAgICAvLyAgICAgKSAvLykpXHJcbiAgICAgICAgLy8gICAgIC8vbWFwKG1vdmllcyA9PiBtb3ZpZXNbMF0pXHJcbiAgICAgICAgLy8gKVxyXG4gICAgICAgIC8vIC5zdWJzY3JpYmUoKHN0dWRlbnQ6IERyaXZlcltdKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHN0dWRlbnQpO1xyXG4gICAgICAgIC8vICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4gICAgICAgIC8vICAgICB0aGlzLldyaXRlRHJpdmVycyhzdHVkZW50KTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUltYWdlKGlucHV0RGl2KSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW1hZ2VcIilbMF07XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICAgICAgY291bnRlciA9IGNvdW50ZXIgJSA0O1xyXG4gICAgICAgIGltYWdlLnNyYyA9IFwiLi4vXCIgKyB0aGlzLmltYWdlTGlzdFtjb3VudGVyXTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlTGlzdCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coY291bnRlcik7XHJcbiAgICAgICAgLy8gLy9cIi4uL3BpY3R1cmVzL0F1ZGlBNC9mcm9udC5qcGdcIjtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIi4uL1wiK2ltYWdlLnNyYyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCIuLi9waWN0dXJlcy9BdWRpQTQvZnJvbnQuanBnXCIpO1xyXG4gICAgICAgIGltYWdlLmNsYXNzTmFtZSA9IFwiaW1hZ2VcIjtcclxuICAgICAgICBpbnB1dERpdi5hcHBlbmRDaGlsZChpbWFnZSk7XHJcbiAgICAgICAgZnJvbUV2ZW50KGltYWdlLCBcImNsaWNrXCIpXHJcbiAgICAgICAgICAgIC5waXBlKClcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IFwiLi4vXCIgKyB0aGlzLmltYWdlTGlzdFsrK2NvdW50ZXIgJSA0XTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGdldERyaXZlcnNCeUNhcihjYXJOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5pbWFnZUxpc3QgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgZmV0Y2hpbmcgQ2FyIHBob3RvcyBvZiAke2Nhck5hbWV9YCk7XHJcbiAgICAgICAgZmV0Y2goYCR7QVBJX1VSTH0vcGhvdG9zL2AgKyBjYXJOYW1lKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICBlbC50aGVuKGl0ZW0gPT4gaXRlbS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZUxpc3QucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRCIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKTtcclxuICAgICAgICByZXR1cm4gZnJvbShmZXRjaChgJHtBUElfVVJMfS9kcml2ZXJzL2AgKyBjYXJOYW1lKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiREIgbm90IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKFwiRXJyb3JcIiArIGVycikpKTtcclxuICAgIH1cclxuICAgIFdyaXRlRHJpdmVycyhkcml2ZXJzKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGFiZWxhXCIpWzBdO1xyXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgY29uc3QgdGFibGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XHJcbiAgICAgICAgdGFibGVEaXYuY2xhc3NOYW1lID0gXCJ0YWJlbGFcIjtcclxuICAgICAgICB0YWJsZURpdi5zdHlsZS5ib3JkZXIgPSBcIjFweCBzb2xpZCBibGFja1wiO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRhYmxlRGl2KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRhYmxlKHRhYmxlRGl2KTtcclxuICAgICAgICBkcml2ZXJzLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUcihwLCB0YWJsZURpdik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVUcihwLCB0YWJsZURpdikge1xyXG4gICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG4gICAgICAgIHRhYmxlRGl2LmFwcGVuZENoaWxkKHRyKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRkKHAubmFtZSwgdHIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGQocC5jYXIudG9TdHJpbmcoKSwgdHIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlVGQocC5hdmdNYXJrLnRvU3RyaW5nKCksIHRyKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRkKHAucHJpY2VDb2VmZmljaWVudC50b1N0cmluZygpLCB0cik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUZEJ1dHRvbihwLCBcIlNlbGVrdHVqIG92b2cgdm96YWNhXCIsIHRyKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVRkQnV0dG9uKGRyaXZlciwgYXJnMCwgdHIpIHtcclxuICAgICAgICBsZXQgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgdGQuYXBwZW5kQ2hpbGQoYnRuKTtcclxuICAgICAgICBidG4uaW5uZXJIVE1MID0gYXJnMDtcclxuICAgICAgICB0ZC5zdHlsZS5tYXJnaW4gPSBcIjUwJVwiO1xyXG4gICAgICAgIGJ0bi5jbGFzc05hbWUgPSBcImR1Z21lVVRhYmVsaVwiO1xyXG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcclxuICAgICAgICBmcm9tRXZlbnQoYnRuLCBcImNsaWNrXCIpLnBpcGUoKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vYnMyJCA9IG9mKGRyaXZlcik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT0JTMiBFTUlUVEVELCBHT0lORyBJTlRPIFpJUElOUFVUU1wiKTtcclxuICAgICAgICAgICAgdGhpcy56aXBJbnB1dHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVRhYmxlKHRhYmxlRGl2KSB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUaChcIkltZVwiLCB0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUaChcIlZvemlsb1wiLCB0YWJsZURpdik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUaChcIlByb3NlY25hIG9jZW5hXCIsIHRhYmxlRGl2KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRoKFwiS29lZmljaWplbnQgcG8gbWludXR1XCIsIHRhYmxlRGl2KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRoKFwiRHVnbWUgemEgc2VsZWtjaWp1XCIsIHRhYmxlRGl2KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVRoKHRleHQsIGVsZW1lbnQpIHtcclxuICAgICAgICBsZXQgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgdGguaW5uZXJIVE1MID0gdGV4dDtcclxuICAgICAgICB0aC5zdHlsZS5tYXJnaW4gPSBcIjUwJVwiO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGgpO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlVGQodGV4dCwgVGhpbGlUZCkge1xyXG4gICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcclxuICAgICAgICB0ZC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIHRkLnN0eWxlLm1hcmdpbiA9IFwiNTAlXCI7XHJcbiAgICAgICAgVGhpbGlUZC5hcHBlbmRDaGlsZCh0ZCk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVIMih0ZXh0LCBlbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgICAgIGhlYWRlci5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBmcm9tLCBmcm9tRXZlbnQgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBkZWJvdW5jZVRpbWUsIGZpbHRlciwgbWFwLCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xyXG5pbXBvcnQgeyBUYXhpTG9naWMgfSBmcm9tIFwiLi90YXhpLWxvZ2ljXCI7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tIFwiLi91c2VyXCI7XHJcbmNvbnN0IEFQSV9VUkwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xyXG52YXIgY291bnRlciA9IDA7XHJcbnZhciB0YXhpbG9naWM7XHJcbmNvbnN0IHVzZXIgPSBuZXcgVXNlcih1bmRlZmluZWQsIHVuZGVmaW5lZCwgMCk7XHJcbi8vIGNvbnN0IHRheGlsb2dpYyA9IG5ldyBUYXhpTG9naWModW5kZWZpbmVkLCB1bmRlZmluZWQpO1xyXG5jcmVhdGVIZWFkZXIoKTtcclxuY3JlYXRlVXNlckZvcm0oKTtcclxuY3JlYXRlUmVzZXJ2YXRpb25zKCk7XHJcbi8vY3JlYXRlTmFtZUJveChkb2N1KTtcclxuLy9jcmVhdGVZZWFyQm94KCk7XHJcbi8vIGdldFN0dWRlbnRzQnlNYXJrKFwiMFwiKS5zdWJzY3JpYmUoKHN0dWRlbnQ6IFN0dWRlbnRbXSkgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKHN0dWRlbnQpO1xyXG4vLyAgIFdyaXRlU3R1ZGVudHMoc3R1ZGVudCk7XHJcbi8vIH0pO1xyXG5mdW5jdGlvbiBjcmVhdGVIMih0ZXh0LCBlbGVtZW50KSB7XHJcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XHJcbiAgICBoZWFkZXIuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVIMSh0ZXh0LCBlbGVtZW50KSB7XHJcbiAgICBjb25zdCBoZWFkZXIxRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcclxuICAgIGhlYWRlcjFFbGVtZW50LmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGhlYWRlcjFFbGVtZW50KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVIMyh0ZXh0LCBlbGVtZW50KSB7XHJcbiAgICBjb25zdCBoZWFkZXIxRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcclxuICAgIGlmICh0ZXh0ID09PSB1bmRlZmluZWQgfHwgcGFyc2VJbnQodGV4dCkgPT09IDApXHJcbiAgICAgICAgaGVhZGVyMUVsZW1lbnQuaW5uZXJIVE1MID0gXCJOaXN0ZSB1bmVsaSBvdmFqIHBvZGF0YWtcIjtcclxuICAgIGVsc2VcclxuICAgICAgICBoZWFkZXIxRWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChoZWFkZXIxRWxlbWVudCk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSDQodGV4dCwgZWxlbWVudCkge1xyXG4gICAgY29uc3QgaGVhZGVyMUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDRcIik7XHJcbiAgICBpZiAodGV4dCA9PT0gdW5kZWZpbmVkIHx8IHBhcnNlSW50KHRleHQpID09PSAwKVxyXG4gICAgICAgIGhlYWRlcjFFbGVtZW50LmlubmVySFRNTCA9IFwiTmlzdGUgdW5lbGkgb3ZhaiBwb2RhdGFrXCI7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgaGVhZGVyMUVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaGVhZGVyMUVsZW1lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVVzZXJGb3JtKCkge1xyXG4gICAgY29uc3QgVXNlckZvcm1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgVXNlckZvcm1EaXYuY2xhc3NOYW1lID0gXCJVc2VyRm9ybURpdlwiO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChVc2VyRm9ybURpdik7XHJcbiAgICBjcmVhdGVJbnB1dERpdihVc2VyRm9ybURpdik7XHJcbiAgICBjcmVhdGVVc2VyRGF0YVZpZXcoVXNlckZvcm1EaXYpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpIHtcclxuICAgIGNvbnN0IGRpdkhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkaXZIZWFkZXIuY2xhc3NOYW1lID0gXCJEaXZIZWFkZXJcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2SGVhZGVyKTtcclxuICAgIGNyZWF0ZUgxKGBGSUNBWCBUQVhJIE9OTElORWAsIGRpdkhlYWRlcik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlVXNlckRhdGFWaWV3KFVzZXJGb3JtRGl2KSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkRhdGFWaWV3RGl2XCIpWzBdO1xyXG4gICAgaWYgKGVsZW1lbnQgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICBjb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBpbnB1dERpdi5jbGFzc05hbWUgPSBcIkRhdGFWaWV3RGl2XCI7XHJcbiAgICBVc2VyRm9ybURpdi5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbiAgICAvL1dyaXRlTGFiZWwoXCJWYXNlIGltZTpcIiwgaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlSDMoXCJWYXNlIGltZTpcIiwgaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlSDQodXNlci5uYW1lLCBpbnB1dERpdik7XHJcbiAgICAvL1dyaXRlTGFiZWwodXNlci5uYW1lLCBpbnB1dERpdik7XHJcbiAgICAvL1dyaXRlTGFiZWwoXCJWYXNlIHByZXppbWU6XCIsIGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZUgzKFwiQWRyZXNhIG5hIGtvam9qIHRha3NpIGRvbGF6aSBwbyB2YXM6XCIsIGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZUg0KHVzZXIuYWRkcmVzcywgaW5wdXREaXYpO1xyXG4gICAgLy9Xcml0ZUxhYmVsKHVzZXIuc3VybmFtZSwgaW5wdXREaXYpO1xyXG4gICAgLy9Xcml0ZUxhYmVsKFwiQnJvaiBsaWNuZSBrYXJ0ZTpcIiwgaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlSDMoXCJCcm9qIGxpY25lIGthcnRlOlwiLCBpbnB1dERpdik7XHJcbiAgICBjcmVhdGVINCh1c2VyLmlkY2FyZC50b1N0cmluZygpLCBpbnB1dERpdik7XHJcbiAgICAvL1dyaXRlTGFiZWwodXNlci5pZGNhcmQudG9TdHJpbmcoKSwgaW5wdXREaXYpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUlucHV0RGl2KGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGlucHV0RGl2LmNsYXNzTmFtZSA9IFwiaW5wdXREaXZcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlSDIoYFVuZXNpdGUgdmFzZSBwb2RhdGtlOmAsIGlucHV0RGl2KTtcclxuICAgIGNyZWF0ZU5hbWVCb3goaW5wdXREaXYpO1xyXG4gICAgY3JlYXRlU3VyTmFtZUJveChpbnB1dERpdik7XHJcbiAgICBjcmVhdGVJRENhcmRCb3goaW5wdXREaXYpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZU5hbWVCb3goZWxlbWVudCkge1xyXG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBcIlVuZXNpdGUgdmFzZSBpbWU6XCI7XHJcbiAgICBsYWJlbC5zdHlsZS5tYXJnaW4gPSBcIjEwcHhcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBpbnB1dC50eXBlID0gXCJ0ZXh0XCI7XHJcbiAgICBpbnB1dC5jbGFzc05hbWUgPSBcImlucHV0TmFtZVwiO1xyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbiAgICBmcm9tRXZlbnQoaW5wdXQsIFwiaW5wdXRcIilcclxuICAgICAgICAucGlwZShkZWJvdW5jZVRpbWUoNTAwKSwgbWFwKChldikgPT4gZXYudGFyZ2V0LnZhbHVlKSwgZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0Lmxlbmd0aCA+PSAzKSlcclxuICAgICAgICAuc3Vic2NyaWJlKChuYW1lKSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhuYW1lKTtcclxuICAgICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4gICAgICAgIHVzZXIubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJVc2VyRm9ybURpdlwiKVswXTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjcmVhdGVVc2VyRGF0YVZpZXcoeCk7XHJcbiAgICAgICAgaWYgKHVzZXIuY2hlY2tJbnB1dHMoKSlcclxuICAgICAgICAgICAgY3JlYXRlVGF4aUxvZ2ljKCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTdXJOYW1lQm94KGVsZW1lbnQpIHtcclxuICAgIC8vIGNvbnN0IGlucHV0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIC8vIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXREaXYpO1xyXG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBcIlVuZXNpdGUgYWRyZXN1IG5hIGtvanUgZG9sYXppIHRha3NpOlwiO1xyXG4gICAgbGFiZWwuc3R5bGUubWFyZ2luID0gXCIxMHB4XCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgaW5wdXQuY2xhc3NOYW1lID0gXCJpbnB1dFN1cm5hbWVcIjtcclxuICAgIGlucHV0LnR5cGUgPSBcInRleHRcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG4gICAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbiAgICAgICAgLnBpcGUoZGVib3VuY2VUaW1lKDUwMCksIG1hcCgoZXYpID0+IGV2LnRhcmdldC52YWx1ZSksIGZpbHRlcigodGV4dCkgPT4gdGV4dC5sZW5ndGggPj0gMykpXHJcbiAgICAgICAgLnN1YnNjcmliZSgoc3VybmFtZSkgPT4ge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coc3VybmFtZSk7XHJcbiAgICAgICAgLy9zdHVkZW50ID0gc3R1ZGVudC5maWx0ZXIocCA9PiBwLmF2Z01hcmsgPiA5KTtcclxuICAgICAgICB1c2VyLmFkZHJlc3MgPSBzdXJuYW1lO1xyXG4gICAgICAgIHZhciB4ID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiVXNlckZvcm1EaXZcIilbMF07XHJcbiAgICAgICAgaWYgKHggIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgY3JlYXRlVXNlckRhdGFWaWV3KHgpO1xyXG4gICAgICAgIGlmICh1c2VyLmNoZWNrSW5wdXRzKCkpXHJcbiAgICAgICAgICAgIGNyZWF0ZVRheGlMb2dpYygpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSURDYXJkQm94KGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgbGFiZWwuaW5uZXJIVE1MID0gXCJVbmVzaXRlIGJyb2ogbGljbmUga2FydGU6XCI7XHJcbiAgICBsYWJlbC5zdHlsZS5tYXJnaW4gPSBcIjEwcHhcIjtcclxuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuICAgIGlucHV0LmNsYXNzTmFtZSA9IFwiaW5wdXRJRFwiO1xyXG4gICAgaW5wdXQuaWQgPSBcImlucHV0XCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGlucHV0KTtcclxuICAgIGZyb21FdmVudChpbnB1dCwgXCJpbnB1dFwiKVxyXG4gICAgICAgIC5waXBlKGRlYm91bmNlVGltZSg1MDApLCBtYXAoKGV2KSA9PiBldi50YXJnZXQudmFsdWUpLCBmaWx0ZXIoKHRleHQpID0+IHRleHQubGVuZ3RoID09IDkpLCBtYXAoZWwgPT4gcGFyc2VJbnQoZWwpKVxyXG4gICAgLy8gc3dpdGNoTWFwKFxyXG4gICAgLy8gICAoc3R1ZGVudCkgPT4gZ2V0U3R1ZGVudHNCeU1hcmsoc3R1ZGVudCkgLy8ucGlwZShcclxuICAgIC8vICAgLy9tYXAoc3R1ZGVudHMgPT4gc3R1ZGVudHMuZmlsdGVyKHAgPT4gcC5hdmdNYXJrID4gOSkpXHJcbiAgICAvLyApIC8vKSlcclxuICAgIC8vbWFwKG1vdmllcyA9PiBtb3ZpZXNbMF0pXHJcbiAgICApXHJcbiAgICAgICAgLnN1YnNjcmliZSgoaWQpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGlkKTtcclxuICAgICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4gICAgICAgIHVzZXIuaWRjYXJkID0gaWQ7XHJcbiAgICAgICAgdmFyIHggPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJVc2VyRm9ybURpdlwiKVswXTtcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICBjcmVhdGVVc2VyRGF0YVZpZXcoeCk7XHJcbiAgICAgICAgaWYgKHVzZXIuY2hlY2tJbnB1dHMoKSkge1xyXG4gICAgICAgICAgICBjcmVhdGVUYXhpTG9naWMoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVUYXhpTG9naWMoKSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJUYXhpTG9naWNEaXZcIilbMF07XHJcbiAgICBpZiAoZWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGF4aWxvZ2ljLlNldEFuZFN0YXJ0VXNlcih1c2VyKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcHJpa2F6UmV6ZXJ2YWNpamEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicHJpa2F6UmV6ZXJ2YWNpamFcIilbMF07XHJcbiAgICBpZiAocHJpa2F6UmV6ZXJ2YWNpamEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNvbnN0IFRheGlMb2dpY0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgVGF4aUxvZ2ljRGl2LmNsYXNzTmFtZSA9IFwiVGF4aUxvZ2ljRGl2XCI7XHJcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChUYXhpTG9naWNEaXYpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKFRheGlMb2dpY0RpdiwgcHJpa2F6UmV6ZXJ2YWNpamEpO1xyXG4gICAgICAgIHRheGlsb2dpYyA9IG5ldyBUYXhpTG9naWModXNlciwgVGF4aUxvZ2ljRGl2KTtcclxuICAgICAgICB0YXhpbG9naWMuZHJhdygpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldFN0dWRlbnRzQnlNYXJrKG1hcmspIHtcclxuICAgIGNvbnNvbGUubG9nKGBmZXRjaGluZyBtb3ZpZSB3aXRoIGEgbWFyayAke21hcmt9YCk7XHJcbiAgICByZXR1cm4gZnJvbShmZXRjaChgJHtBUElfVVJMfS9zdHVkZW50cy9gKSAvLz90aXRsZT0ke21hcmt9YGApXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlXHJcbiAgICAgICAgICAgICAgICAuanNvbigpXHJcbiAgICAgICAgICAgICAgICAudGhlbigocCkgPT4gcC5maWx0ZXIoKHEpID0+IHEuYXZnTWFyayA+PSBwYXJzZUZsb2F0KG1hcmspKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zZSBhaW4ndCBva1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKSk7XHJcbn1cclxuLy8gZnVuY3Rpb24gY3JlYXRlWWVhckJveCgpIHtcclxuLy8gICBjb25zdCBpbnB1dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbi8vICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dERpdik7XHJcbi8vICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbi8vICAgbGFiZWwuaW5uZXJIVE1MID0gXCJVbmVzaXRlIGRvbmp1IGdyYW5pY3UgZ29kaW5lIHJvZGplbmphOlwiO1xyXG4vLyAgIGxhYmVsLnN0eWxlLm1hcmdpbiA9IFwiMTBweFwiO1xyXG4vLyAgIGlucHV0RGl2LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuLy8gICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuLy8gICBpbnB1dC50eXBlID0gXCJudW1iZXJcIjtcclxuLy8gICBpbnB1dC5pZCA9IFwiaW5wdXRcIjtcclxuLy8gICBpbnB1dERpdi5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbi8vICAgZnJvbUV2ZW50KGlucHV0LCBcImlucHV0XCIpXHJcbi8vICAgICAucGlwZShcclxuLy8gICAgICAgZGVib3VuY2VUaW1lKDUwMCksXHJcbi8vICAgICAgIG1hcCgoZXY6IElucHV0RXZlbnQpID0+ICg8SFRNTElucHV0RWxlbWVudD5ldi50YXJnZXQpLnZhbHVlKSxcclxuLy8gICAgICAgZmlsdGVyKCh0ZXh0KSA9PiB0ZXh0Lmxlbmd0aCA+PSA0KSxcclxuLy8gICAgICAgc3dpdGNoTWFwKFxyXG4vLyAgICAgICAgIChzdHVkZW50KSA9PiBnZXRTdHVkZW50c0J5WWVhcihzdHVkZW50KSAvLy5waXBlKFxyXG4vLyAgICAgICAgIC8vbWFwKHN0dWRlbnRzID0+IHN0dWRlbnRzLmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpKVxyXG4vLyAgICAgICApIC8vKSlcclxuLy8gICAgICAgLy9tYXAobW92aWVzID0+IG1vdmllc1swXSlcclxuLy8gICAgIClcclxuLy8gICAgIC5zdWJzY3JpYmUoKGRyaXZlckFycmF5OiBEcml2ZXJbXSkgPT4ge1xyXG4vLyAgICAgIC8vIGNvbnNvbGUubG9nKHN0dWRlbnQpO1xyXG4vLyAgICAgICAvL3N0dWRlbnQgPSBzdHVkZW50LmZpbHRlcihwID0+IHAuYXZnTWFyayA+IDkpO1xyXG4vLyAgICAgICBXcml0ZURyaXZlcnMoZHJpdmVyQXJyYXkpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuZnVuY3Rpb24gZ2V0U3R1ZGVudHNCeVllYXIoeWVhcikge1xyXG4gICAgY29uc29sZS5sb2coYGZldGNoaW5nIG1vdmllIHdpdGggYSBtYXJrICR7eWVhcn1gKTtcclxuICAgIHJldHVybiBmcm9tKGZldGNoKGAke0FQSV9VUkx9L3N0dWRlbnRzL2ApIC8vP3RpdGxlPSR7bWFya31gYClcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgIC5qc29uKClcclxuICAgICAgICAgICAgICAgIC50aGVuKChwKSA9PiBwLmZpbHRlcigocSkgPT4gcS55ZWFyID49IHBhcnNlRmxvYXQoeWVhcikpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRCIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhcIkVycm9yXCIgKyBlcnIpKSk7XHJcbn1cclxuZnVuY3Rpb24gV3JpdGVEcml2ZXJzKHN0dWRlbnRzKSB7XHJcbiAgICBpZiAoY291bnRlcisrID09IDApXHJcbiAgICAgICAgY3JlYXRlSDIoXCJUYWJlbGEgc3ZpaCBzdHVkZW5hdGFcIiwgZG9jdW1lbnQuYm9keSk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgY3JlYXRlSDIoXCJUYWJlbGEgc2VsZWt0b3ZhbmloIHN0dWRlbmF0YSBici4gXCIgKyBgJHtjb3VudGVyIC0gMX1gLCBkb2N1bWVudC5ib2R5KTtcclxuICAgIGNvbnN0IHRhYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO1xyXG4gICAgdGFibGVEaXYuc3R5bGUuYm9yZGVyID0gXCIxcHggc29saWQgYmxhY2tcIjtcclxuICAgIC8vdGFibGVEaXYuc3R5bGUuYm9yZGVyQ29sbGFwc2UgPSBcImNvbGxhcHNlXCI7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRhYmxlRGl2KTtcclxuICAgIGNyZWF0ZVRhYmxlKHRhYmxlRGl2KTtcclxuICAgIHN0dWRlbnRzLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICBjcmVhdGVUcihwLCB0YWJsZURpdik7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVUcihwLCB0YWJsZURpdikge1xyXG4gICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICB0YWJsZURpdi5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICBjcmVhdGVUZChwLm5hbWUsIHRyKTtcclxuICAgIGNyZWF0ZVRkKHAuY2FyLnRvU3RyaW5nKCksIHRyKTtcclxuICAgIGNyZWF0ZVRkKHAuYXZnTWFyay50b1N0cmluZygpLCB0cik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlVGFibGUodGFibGVEaXYpIHtcclxuICAgIC8vIGxldCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgIC8vIHRoLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAvLyB0YWJsZURpdi5hcHBlbmRDaGlsZCh0aCk7XHJcbiAgICBjcmVhdGVUaChcIm5hbWVcIiwgdGFibGVEaXYpO1xyXG4gICAgY3JlYXRlVGgoXCJ5ZWFyXCIsIHRhYmxlRGl2KTtcclxuICAgIGNyZWF0ZVRoKFwiYXZnTWFya1wiLCB0YWJsZURpdik7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlVGgodGV4dCwgZWxlbWVudCkge1xyXG4gICAgbGV0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgdGguaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIHRoLnN0eWxlLm1hcmdpbiA9IFwiNTAlXCI7XHJcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVUZCh0ZXh0LCBUaGlsaVRkKSB7XHJcbiAgICBsZXQgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgICB0ZC5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICAgdGQuc3R5bGUubWFyZ2luID0gXCI1MCVcIjtcclxuICAgIFRoaWxpVGQuYXBwZW5kQ2hpbGQodGQpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlc2VydmF0aW9ucygpIHtcclxuICAgIGxldCBwcmlrYXpSZXplcnZhY2lqYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBwcmlrYXpSZXplcnZhY2lqYS5jbGFzc05hbWUgPSBcInByaWthelJlemVydmFjaWphXCI7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHByaWthelJlemVydmFjaWphKTtcclxuICAgIGNyZWF0ZUgzKFwiUmV6ZXJ2YWNpamU6XCIsIHByaWthelJlemVydmFjaWphKTtcclxufVxyXG4vLyBmZXRjaChgJHtBUElfVVJMfS9kcml2ZXJzL0F1ZGkgQTRgKSAvLz90aXRsZT0ke21hcmt9YGApXHJcbi8vICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuLy8gICAgICAgICBpZighcmVzcG9uc2Uub2spXHJcbi8vICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSRVNQT1NORSBJU04nVCBPS1wiKTtcclxuLy8gICAgICAgICBlbHNlXHJcbi8vICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuLy8gICAgICAgfSlcclxuLy8gICAgICAgLnRoZW4oZGF0YT0+eyBjb25zb2xlLmxvZyhkYXRhKTsgfSlcclxuLy8gICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKFwiRXJyb3JcIiArIGVycikpXHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBjb3VudCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydDtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwgY291bnQ6IGNvdW50LCBzdGFydDogc3RhcnQsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCsrID49IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50KyspO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN0YXJ0ID0gc3RhdGUuc3RhcnQsIGluZGV4ID0gc3RhdGUuaW5kZXgsIGNvdW50ID0gc3RhdGUuY291bnQsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIGlmIChpbmRleCA+PSBjb3VudCkge1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5uZXh0KHN0YXJ0KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICBzdGF0ZS5zdGFydCA9IHN0YXJ0ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhbmdlLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==